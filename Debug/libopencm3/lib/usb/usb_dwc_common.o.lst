   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"usb_dwc_common.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.dwc_set_address,"ax",%progbits
  16              		.align	1
  17              		.global	dwc_set_address
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	dwc_set_address:
  25              	.LFB0:
  26              		.file 1 "../libopencm3/lib/usb/usb_dwc_common.c"
   1:../libopencm3/lib/usb/usb_dwc_common.c **** /*
   2:../libopencm3/lib/usb/usb_dwc_common.c ****  * This file is part of the libopencm3 project.
   3:../libopencm3/lib/usb/usb_dwc_common.c ****  *
   4:../libopencm3/lib/usb/usb_dwc_common.c ****  * Copyright (C) 2011 Gareth McMullin <gareth@blacksphere.co.nz>
   5:../libopencm3/lib/usb/usb_dwc_common.c ****  *
   6:../libopencm3/lib/usb/usb_dwc_common.c ****  * This library is free software: you can redistribute it and/or modify
   7:../libopencm3/lib/usb/usb_dwc_common.c ****  * it under the terms of the GNU Lesser General Public License as published by
   8:../libopencm3/lib/usb/usb_dwc_common.c ****  * the Free Software Foundation, either version 3 of the License, or
   9:../libopencm3/lib/usb/usb_dwc_common.c ****  * (at your option) any later version.
  10:../libopencm3/lib/usb/usb_dwc_common.c ****  *
  11:../libopencm3/lib/usb/usb_dwc_common.c ****  * This library is distributed in the hope that it will be useful,
  12:../libopencm3/lib/usb/usb_dwc_common.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:../libopencm3/lib/usb/usb_dwc_common.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:../libopencm3/lib/usb/usb_dwc_common.c ****  * GNU Lesser General Public License for more details.
  15:../libopencm3/lib/usb/usb_dwc_common.c ****  *
  16:../libopencm3/lib/usb/usb_dwc_common.c ****  * You should have received a copy of the GNU Lesser General Public License
  17:../libopencm3/lib/usb/usb_dwc_common.c ****  * along with this library.  If not, see <http://www.gnu.org/licenses/>.
  18:../libopencm3/lib/usb/usb_dwc_common.c ****  */
  19:../libopencm3/lib/usb/usb_dwc_common.c **** 
  20:../libopencm3/lib/usb/usb_dwc_common.c **** #include <string.h>
  21:../libopencm3/lib/usb/usb_dwc_common.c **** #include <libopencm3/cm3/common.h>
  22:../libopencm3/lib/usb/usb_dwc_common.c **** #include <libopencm3/usb/usbd.h>
  23:../libopencm3/lib/usb/usb_dwc_common.c **** #include <libopencm3/usb/dwc/otg_common.h>
  24:../libopencm3/lib/usb/usb_dwc_common.c **** #include "usb_private.h"
  25:../libopencm3/lib/usb/usb_dwc_common.c **** #include "usb_dwc_common.h"
  26:../libopencm3/lib/usb/usb_dwc_common.c **** 
  27:../libopencm3/lib/usb/usb_dwc_common.c **** /* The FS core and the HS core have the same register layout.
  28:../libopencm3/lib/usb/usb_dwc_common.c ****  * As the code can be used on both cores, the registers offset is modified
  29:../libopencm3/lib/usb/usb_dwc_common.c ****  * according to the selected cores base address. */
  30:../libopencm3/lib/usb/usb_dwc_common.c **** #define dev_base_address (usbd_dev->driver->base_address)
  31:../libopencm3/lib/usb/usb_dwc_common.c **** #define REBASE(x)        MMIO32((x) + (dev_base_address))
  32:../libopencm3/lib/usb/usb_dwc_common.c **** 
  33:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_set_address(usbd_device *usbd_dev, uint8_t addr)
  34:../libopencm3/lib/usb/usb_dwc_common.c **** {
  27              		.loc 1 34 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 7, -4
  35 0002 83B0     		sub	sp, sp, #12
  36              		.cfi_def_cfa_offset 16
  37 0004 00AF     		add	r7, sp, #0
  38              		.cfi_def_cfa_register 7
  39 0006 7860     		str	r0, [r7, #4]
  40 0008 0B46     		mov	r3, r1
  41 000a FB70     		strb	r3, [r7, #3]
  35:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_DCFG) = (REBASE(OTG_DCFG) & ~OTG_DCFG_DAD) | (addr << 4);
  42              		.loc 1 35 22
  43 000c 7B68     		ldr	r3, [r7, #4]
  44 000e D3F8DC30 		ldr	r3, [r3, #220]
  45 0012 DB6A     		ldr	r3, [r3, #44]
  46 0014 03F50063 		add	r3, r3, #2048
  47 0018 1B68     		ldr	r3, [r3]
  48              		.loc 1 35 39
  49 001a 23F4FE63 		bic	r3, r3, #2032
  50              		.loc 1 35 64
  51 001e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
  52 0020 1201     		lsls	r2, r2, #4
  53 0022 1146     		mov	r1, r2
  54              		.loc 1 35 2
  55 0024 7A68     		ldr	r2, [r7, #4]
  56 0026 D2F8DC20 		ldr	r2, [r2, #220]
  57 002a D26A     		ldr	r2, [r2, #44]
  58 002c 02F50062 		add	r2, r2, #2048
  59              		.loc 1 35 56
  60 0030 0B43     		orrs	r3, r3, r1
  61              		.loc 1 35 19
  62 0032 1360     		str	r3, [r2]
  36:../libopencm3/lib/usb/usb_dwc_common.c **** }
  63              		.loc 1 36 1
  64 0034 00BF     		nop
  65 0036 0C37     		adds	r7, r7, #12
  66              		.cfi_def_cfa_offset 4
  67 0038 BD46     		mov	sp, r7
  68              		.cfi_def_cfa_register 13
  69              		@ sp needed
  70 003a 80BC     		pop	{r7}
  71              		.cfi_restore 7
  72              		.cfi_def_cfa_offset 0
  73 003c 7047     		bx	lr
  74              		.cfi_endproc
  75              	.LFE0:
  77              		.section	.text.dwc_ep_setup,"ax",%progbits
  78              		.align	1
  79              		.global	dwc_ep_setup
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu softvfp
  85              	dwc_ep_setup:
  86              	.LFB1:
  37:../libopencm3/lib/usb/usb_dwc_common.c **** 
  38:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_ep_setup(usbd_device *usbd_dev, uint8_t addr, uint8_t type,
  39:../libopencm3/lib/usb/usb_dwc_common.c **** 			uint16_t max_size,
  40:../libopencm3/lib/usb/usb_dwc_common.c **** 			void (*callback) (usbd_device *usbd_dev, uint8_t ep))
  41:../libopencm3/lib/usb/usb_dwc_common.c **** {
  87              		.loc 1 41 1
  88              		.cfi_startproc
  89              		@ args = 4, pretend = 0, frame = 16
  90              		@ frame_needed = 1, uses_anonymous_args = 0
  91              		@ link register save eliminated.
  92 0000 80B4     		push	{r7}
  93              		.cfi_def_cfa_offset 4
  94              		.cfi_offset 7, -4
  95 0002 85B0     		sub	sp, sp, #20
  96              		.cfi_def_cfa_offset 24
  97 0004 00AF     		add	r7, sp, #0
  98              		.cfi_def_cfa_register 7
  99 0006 7860     		str	r0, [r7, #4]
 100 0008 0846     		mov	r0, r1
 101 000a 1146     		mov	r1, r2
 102 000c 1A46     		mov	r2, r3
 103 000e 0346     		mov	r3, r0
 104 0010 FB70     		strb	r3, [r7, #3]
 105 0012 0B46     		mov	r3, r1
 106 0014 BB70     		strb	r3, [r7, #2]
 107 0016 1346     		mov	r3, r2	@ movhi
 108 0018 3B80     		strh	r3, [r7]	@ movhi
  42:../libopencm3/lib/usb/usb_dwc_common.c **** 	/*
  43:../libopencm3/lib/usb/usb_dwc_common.c **** 	 * Configure endpoint address and type. Allocate FIFO memory for
  44:../libopencm3/lib/usb/usb_dwc_common.c **** 	 * endpoint. Install callback function.
  45:../libopencm3/lib/usb/usb_dwc_common.c **** 	 */
  46:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint8_t dir = addr & 0x80;
 109              		.loc 1 46 10
 110 001a FB78     		ldrb	r3, [r7, #3]
 111 001c 23F07F03 		bic	r3, r3, #127
 112 0020 FB73     		strb	r3, [r7, #15]
  47:../libopencm3/lib/usb/usb_dwc_common.c **** 	addr &= 0x7f;
 113              		.loc 1 47 7
 114 0022 FB78     		ldrb	r3, [r7, #3]
 115 0024 03F07F03 		and	r3, r3, #127
 116 0028 FB70     		strb	r3, [r7, #3]
  48:../libopencm3/lib/usb/usb_dwc_common.c **** 
  49:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (addr == 0) { /* For the default control endpoint */
 117              		.loc 1 49 5
 118 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 119 002c 002B     		cmp	r3, #0
 120 002e 40F09180 		bne	.L3
  50:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* Configure IN part. */
  51:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (max_size >= 64) {
 121              		.loc 1 51 6
 122 0032 3B88     		ldrh	r3, [r7]
 123 0034 3F2B     		cmp	r3, #63
 124 0036 09D9     		bls	.L4
  52:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL0) = OTG_DIEPCTL0_MPSIZ_64;
 125              		.loc 1 52 4
 126 0038 7B68     		ldr	r3, [r7, #4]
 127 003a D3F8DC30 		ldr	r3, [r3, #220]
 128 003e DB6A     		ldr	r3, [r3, #44]
 129 0040 03F51063 		add	r3, r3, #2304
 130 0044 1A46     		mov	r2, r3
 131              		.loc 1 52 25
 132 0046 0023     		movs	r3, #0
 133 0048 1360     		str	r3, [r2]
 134 004a 22E0     		b	.L5
 135              	.L4:
  53:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else if (max_size >= 32) {
 136              		.loc 1 53 13
 137 004c 3B88     		ldrh	r3, [r7]
 138 004e 1F2B     		cmp	r3, #31
 139 0050 09D9     		bls	.L6
  54:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL0) = OTG_DIEPCTL0_MPSIZ_32;
 140              		.loc 1 54 4
 141 0052 7B68     		ldr	r3, [r7, #4]
 142 0054 D3F8DC30 		ldr	r3, [r3, #220]
 143 0058 DB6A     		ldr	r3, [r3, #44]
 144 005a 03F51063 		add	r3, r3, #2304
 145 005e 1A46     		mov	r2, r3
 146              		.loc 1 54 25
 147 0060 0123     		movs	r3, #1
 148 0062 1360     		str	r3, [r2]
 149 0064 15E0     		b	.L5
 150              	.L6:
  55:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else if (max_size >= 16) {
 151              		.loc 1 55 13
 152 0066 3B88     		ldrh	r3, [r7]
 153 0068 0F2B     		cmp	r3, #15
 154 006a 09D9     		bls	.L7
  56:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL0) = OTG_DIEPCTL0_MPSIZ_16;
 155              		.loc 1 56 4
 156 006c 7B68     		ldr	r3, [r7, #4]
 157 006e D3F8DC30 		ldr	r3, [r3, #220]
 158 0072 DB6A     		ldr	r3, [r3, #44]
 159 0074 03F51063 		add	r3, r3, #2304
 160 0078 1A46     		mov	r2, r3
 161              		.loc 1 56 25
 162 007a 0223     		movs	r3, #2
 163 007c 1360     		str	r3, [r2]
 164 007e 08E0     		b	.L5
 165              	.L7:
  57:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
  58:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL0) = OTG_DIEPCTL0_MPSIZ_8;
 166              		.loc 1 58 4
 167 0080 7B68     		ldr	r3, [r7, #4]
 168 0082 D3F8DC30 		ldr	r3, [r3, #220]
 169 0086 DB6A     		ldr	r3, [r3, #44]
 170 0088 03F51063 		add	r3, r3, #2304
 171 008c 1A46     		mov	r2, r3
 172              		.loc 1 58 25
 173 008e 0323     		movs	r3, #3
 174 0090 1360     		str	r3, [r2]
 175              	.L5:
  59:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
  60:../libopencm3/lib/usb/usb_dwc_common.c **** 
  61:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPTSIZ0) =
  62:../libopencm3/lib/usb/usb_dwc_common.c **** 			(max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 176              		.loc 1 62 14
 177 0092 3B88     		ldrh	r3, [r7]
  61:../libopencm3/lib/usb/usb_dwc_common.c **** 			(max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 178              		.loc 1 61 3
 179 0094 7A68     		ldr	r2, [r7, #4]
 180 0096 D2F8DC20 		ldr	r2, [r2, #220]
 181 009a D26A     		ldr	r2, [r2, #44]
 182 009c 02F51162 		add	r2, r2, #2320
 183              		.loc 1 62 14
 184 00a0 03F07F03 		and	r3, r3, #127
  61:../libopencm3/lib/usb/usb_dwc_common.c **** 			(max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 185              		.loc 1 61 25
 186 00a4 1360     		str	r3, [r2]
  63:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPCTL0) |=
 187              		.loc 1 63 3
 188 00a6 7B68     		ldr	r3, [r7, #4]
 189 00a8 D3F8DC30 		ldr	r3, [r3, #220]
 190 00ac DB6A     		ldr	r3, [r3, #44]
 191 00ae 03F51063 		add	r3, r3, #2304
 192              		.loc 1 63 24
 193 00b2 1B68     		ldr	r3, [r3]
 194              		.loc 1 63 3
 195 00b4 7A68     		ldr	r2, [r7, #4]
 196 00b6 D2F8DC20 		ldr	r2, [r2, #220]
 197 00ba D26A     		ldr	r2, [r2, #44]
 198 00bc 02F51062 		add	r2, r2, #2304
 199              		.loc 1 63 24
 200 00c0 43F00843 		orr	r3, r3, #-2013265920
 201 00c4 1360     		str	r3, [r2]
  64:../libopencm3/lib/usb/usb_dwc_common.c **** 			OTG_DIEPCTL0_EPENA | OTG_DIEPCTL0_SNAK;
  65:../libopencm3/lib/usb/usb_dwc_common.c **** 
  66:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* Configure OUT part. */
  67:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->doeptsiz[0] = OTG_DIEPSIZ0_STUPCNT_1 |
  68:../libopencm3/lib/usb/usb_dwc_common.c **** 			OTG_DIEPSIZ0_PKTCNT |
  69:../libopencm3/lib/usb/usb_dwc_common.c **** 			(max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 202              		.loc 1 69 14
 203 00c6 3B88     		ldrh	r3, [r7]
 204 00c8 03F07F03 		and	r3, r3, #127
  68:../libopencm3/lib/usb/usb_dwc_common.c **** 			(max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 205              		.loc 1 68 24
 206 00cc 43F00053 		orr	r3, r3, #536870912
 207 00d0 43F40023 		orr	r3, r3, #524288
 208 00d4 1A46     		mov	r2, r3
  67:../libopencm3/lib/usb/usb_dwc_common.c **** 			OTG_DIEPSIZ0_PKTCNT |
 209              		.loc 1 67 25
 210 00d6 7B68     		ldr	r3, [r7, #4]
 211 00d8 C3F8F020 		str	r2, [r3, #240]
  70:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPTSIZ(0)) = usbd_dev->doeptsiz[0];
 212              		.loc 1 70 3
 213 00dc 7B68     		ldr	r3, [r7, #4]
 214 00de D3F8DC30 		ldr	r3, [r3, #220]
 215 00e2 DB6A     		ldr	r3, [r3, #44]
 216 00e4 03F53163 		add	r3, r3, #2832
 217 00e8 1A46     		mov	r2, r3
 218              		.loc 1 70 47
 219 00ea 7B68     		ldr	r3, [r7, #4]
 220 00ec D3F8F030 		ldr	r3, [r3, #240]
 221              		.loc 1 70 27
 222 00f0 1360     		str	r3, [r2]
  71:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(0)) |=
 223              		.loc 1 71 3
 224 00f2 7B68     		ldr	r3, [r7, #4]
 225 00f4 D3F8DC30 		ldr	r3, [r3, #220]
 226 00f8 DB6A     		ldr	r3, [r3, #44]
 227 00fa 03F53063 		add	r3, r3, #2816
 228              		.loc 1 71 26
 229 00fe 1B68     		ldr	r3, [r3]
 230              		.loc 1 71 3
 231 0100 7A68     		ldr	r2, [r7, #4]
 232 0102 D2F8DC20 		ldr	r2, [r2, #220]
 233 0106 D26A     		ldr	r2, [r2, #44]
 234 0108 02F53062 		add	r2, r2, #2816
 235              		.loc 1 71 26
 236 010c 43F00843 		orr	r3, r3, #-2013265920
 237 0110 1360     		str	r3, [r2]
  72:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DOEPCTL0_EPENA | OTG_DIEPCTL0_SNAK;
  73:../libopencm3/lib/usb/usb_dwc_common.c **** 
  74:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GNPTXFSIZ) = ((max_size / 4) << 16) |
 238              		.loc 1 74 38
 239 0112 3B88     		ldrh	r3, [r7]
 240 0114 9B08     		lsrs	r3, r3, #2
 241 0116 9BB2     		uxth	r3, r3
 242              		.loc 1 74 43
 243 0118 1B04     		lsls	r3, r3, #16
  75:../libopencm3/lib/usb/usb_dwc_common.c **** 					 usbd_dev->driver->rx_fifo_size;
 244              		.loc 1 75 15
 245 011a 7A68     		ldr	r2, [r7, #4]
 246 011c D2F8DC20 		ldr	r2, [r2, #220]
 247              		.loc 1 75 23
 248 0120 528E     		ldrh	r2, [r2, #50]
  74:../libopencm3/lib/usb/usb_dwc_common.c **** 					 usbd_dev->driver->rx_fifo_size;
 249              		.loc 1 74 50
 250 0122 1A43     		orrs	r2, r2, r3
  74:../libopencm3/lib/usb/usb_dwc_common.c **** 					 usbd_dev->driver->rx_fifo_size;
 251              		.loc 1 74 3
 252 0124 7B68     		ldr	r3, [r7, #4]
 253 0126 D3F8DC30 		ldr	r3, [r3, #220]
 254 012a DB6A     		ldr	r3, [r3, #44]
 255 012c 2833     		adds	r3, r3, #40
  74:../libopencm3/lib/usb/usb_dwc_common.c **** 					 usbd_dev->driver->rx_fifo_size;
 256              		.loc 1 74 25
 257 012e 1A60     		str	r2, [r3]
  76:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->fifo_mem_top += max_size / 4;
 258              		.loc 1 76 26
 259 0130 7B68     		ldr	r3, [r7, #4]
 260 0132 B3F8E820 		ldrh	r2, [r3, #232]
 261 0136 3B88     		ldrh	r3, [r7]
 262 0138 9B08     		lsrs	r3, r3, #2
 263 013a 9BB2     		uxth	r3, r3
 264 013c 1344     		add	r3, r3, r2
 265 013e 9AB2     		uxth	r2, r3
 266 0140 7B68     		ldr	r3, [r7, #4]
 267 0142 A3F8E820 		strh	r2, [r3, #232]	@ movhi
  77:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->fifo_mem_top_ep0 = usbd_dev->fifo_mem_top;
 268              		.loc 1 77 40
 269 0146 7B68     		ldr	r3, [r7, #4]
 270 0148 B3F8E820 		ldrh	r2, [r3, #232]
 271              		.loc 1 77 30
 272 014c 7B68     		ldr	r3, [r7, #4]
 273 014e A3F8EA20 		strh	r2, [r3, #234]	@ movhi
  78:../libopencm3/lib/usb/usb_dwc_common.c **** 
  79:../libopencm3/lib/usb/usb_dwc_common.c **** 		return;
 274              		.loc 1 79 3
 275 0152 A9E0     		b	.L2
 276              	.L3:
  80:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
  81:../libopencm3/lib/usb/usb_dwc_common.c **** 
  82:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (dir) {
 277              		.loc 1 82 5
 278 0154 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 279 0156 002B     		cmp	r3, #0
 280 0158 5AD0     		beq	.L9
  83:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPTXF(addr)) = ((max_size / 4) << 16) |
 281              		.loc 1 83 42
 282 015a 3B88     		ldrh	r3, [r7]
 283 015c 9B08     		lsrs	r3, r3, #2
 284 015e 9BB2     		uxth	r3, r3
 285              		.loc 1 83 47
 286 0160 1B04     		lsls	r3, r3, #16
  84:../libopencm3/lib/usb/usb_dwc_common.c **** 					     usbd_dev->fifo_mem_top;
 287              		.loc 1 84 19
 288 0162 7A68     		ldr	r2, [r7, #4]
 289 0164 B2F8E820 		ldrh	r2, [r2, #232]
  83:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPTXF(addr)) = ((max_size / 4) << 16) |
 290              		.loc 1 83 54
 291 0168 1A43     		orrs	r2, r2, r3
  83:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPTXF(addr)) = ((max_size / 4) << 16) |
 292              		.loc 1 83 3
 293 016a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 294 016c 4033     		adds	r3, r3, #64
 295 016e 9B00     		lsls	r3, r3, #2
 296 0170 1946     		mov	r1, r3
 297 0172 7B68     		ldr	r3, [r7, #4]
 298 0174 D3F8DC30 		ldr	r3, [r3, #220]
 299 0178 DB6A     		ldr	r3, [r3, #44]
 300 017a 0B44     		add	r3, r3, r1
  83:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPTXF(addr)) = ((max_size / 4) << 16) |
 301              		.loc 1 83 29
 302 017c 1A60     		str	r2, [r3]
  85:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->fifo_mem_top += max_size / 4;
 303              		.loc 1 85 26
 304 017e 7B68     		ldr	r3, [r7, #4]
 305 0180 B3F8E820 		ldrh	r2, [r3, #232]
 306 0184 3B88     		ldrh	r3, [r7]
 307 0186 9B08     		lsrs	r3, r3, #2
 308 0188 9BB2     		uxth	r3, r3
 309 018a 1344     		add	r3, r3, r2
 310 018c 9AB2     		uxth	r2, r3
 311 018e 7B68     		ldr	r3, [r7, #4]
 312 0190 A3F8E820 		strh	r2, [r3, #232]	@ movhi
  86:../libopencm3/lib/usb/usb_dwc_common.c **** 
  87:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPTSIZ(addr)) =
  88:../libopencm3/lib/usb/usb_dwc_common.c **** 		    (max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 313              		.loc 1 88 17
 314 0194 3B88     		ldrh	r3, [r7]
  87:../libopencm3/lib/usb/usb_dwc_common.c **** 		    (max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 315              		.loc 1 87 3
 316 0196 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 317 0198 5201     		lsls	r2, r2, #5
 318 019a 1146     		mov	r1, r2
 319 019c 7A68     		ldr	r2, [r7, #4]
 320 019e D2F8DC20 		ldr	r2, [r2, #220]
 321 01a2 D26A     		ldr	r2, [r2, #44]
 322 01a4 0A44     		add	r2, r2, r1
 323 01a6 02F51162 		add	r2, r2, #2320
 324              		.loc 1 88 17
 325 01aa 03F07F03 		and	r3, r3, #127
  87:../libopencm3/lib/usb/usb_dwc_common.c **** 		    (max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 326              		.loc 1 87 30
 327 01ae 1360     		str	r3, [r2]
  89:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DIEPCTL(addr)) |=
 328              		.loc 1 89 29
 329 01b0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 330 01b2 4833     		adds	r3, r3, #72
 331 01b4 5B01     		lsls	r3, r3, #5
 332 01b6 1A46     		mov	r2, r3
 333              		.loc 1 89 3
 334 01b8 7B68     		ldr	r3, [r7, #4]
 335 01ba D3F8DC30 		ldr	r3, [r3, #220]
 336 01be DB6A     		ldr	r3, [r3, #44]
 337              		.loc 1 89 29
 338 01c0 1344     		add	r3, r3, r2
 339 01c2 1A68     		ldr	r2, [r3]
  90:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DIEPCTL0_EPENA | OTG_DIEPCTL0_SNAK | (type << 18)
 340              		.loc 1 90 54
 341 01c4 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 342 01c6 9B04     		lsls	r3, r3, #18
  91:../libopencm3/lib/usb/usb_dwc_common.c **** 		    | OTG_DIEPCTL0_USBAEP | OTG_DIEPCTLX_SD0PID
 343              		.loc 1 91 29
 344 01c8 43F01843 		orr	r3, r3, #-1744830464
 345 01cc 43F40043 		orr	r3, r3, #32768
  92:../libopencm3/lib/usb/usb_dwc_common.c **** 		    | (addr << 22) | max_size;
 346              		.loc 1 92 15
 347 01d0 F978     		ldrb	r1, [r7, #3]	@ zero_extendqisi2
 348 01d2 8905     		lsls	r1, r1, #22
 349              		.loc 1 92 7
 350 01d4 1943     		orrs	r1, r1, r3
 351              		.loc 1 92 22
 352 01d6 3B88     		ldrh	r3, [r7]
 353 01d8 0B43     		orrs	r3, r3, r1
 354 01da 1846     		mov	r0, r3
  89:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DIEPCTL0_EPENA | OTG_DIEPCTL0_SNAK | (type << 18)
 355              		.loc 1 89 29
 356 01dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 357 01de 4833     		adds	r3, r3, #72
 358 01e0 5B01     		lsls	r3, r3, #5
 359 01e2 1946     		mov	r1, r3
  89:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DIEPCTL0_EPENA | OTG_DIEPCTL0_SNAK | (type << 18)
 360              		.loc 1 89 3
 361 01e4 7B68     		ldr	r3, [r7, #4]
 362 01e6 D3F8DC30 		ldr	r3, [r3, #220]
 363 01ea DB6A     		ldr	r3, [r3, #44]
  89:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DIEPCTL0_EPENA | OTG_DIEPCTL0_SNAK | (type << 18)
 364              		.loc 1 89 29
 365 01ec 0B44     		add	r3, r3, r1
 366 01ee 1946     		mov	r1, r3
 367 01f0 42EA0003 		orr	r3, r2, r0
 368 01f4 0B60     		str	r3, [r1]
  93:../libopencm3/lib/usb/usb_dwc_common.c **** 
  94:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (callback) {
 369              		.loc 1 94 6
 370 01f6 BB69     		ldr	r3, [r7, #24]
 371 01f8 002B     		cmp	r3, #0
 372 01fa 09D0     		beq	.L9
  95:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_ctr[addr][USB_TRANSACTION_IN] =
 373              		.loc 1 95 37
 374 01fc FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 375              		.loc 1 95 58
 376 01fe 7968     		ldr	r1, [r7, #4]
 377 0200 1346     		mov	r3, r2
 378 0202 5B00     		lsls	r3, r3, #1
 379 0204 1344     		add	r3, r3, r2
 380 0206 9B00     		lsls	r3, r3, #2
 381 0208 0B44     		add	r3, r3, r1
 382 020a 6833     		adds	r3, r3, #104
 383 020c BA69     		ldr	r2, [r7, #24]
 384 020e 1A60     		str	r2, [r3]
 385              	.L9:
  96:../libopencm3/lib/usb/usb_dwc_common.c **** 			    (void *)callback;
  97:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
  98:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
  99:../libopencm3/lib/usb/usb_dwc_common.c **** 
 100:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (!dir) {
 386              		.loc 1 100 5
 387 0210 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 388 0212 002B     		cmp	r3, #0
 389 0214 48D1     		bne	.L2
 101:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->doeptsiz[addr] = OTG_DIEPSIZ0_PKTCNT |
 102:../libopencm3/lib/usb/usb_dwc_common.c **** 				 (max_size & OTG_DIEPSIZ0_XFRSIZ_MASK);
 390              		.loc 1 102 16
 391 0216 3B88     		ldrh	r3, [r7]
 392 0218 03F07F03 		and	r3, r3, #127
 101:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->doeptsiz[addr] = OTG_DIEPSIZ0_PKTCNT |
 393              		.loc 1 101 50
 394 021c 43F40023 		orr	r3, r3, #524288
 101:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->doeptsiz[addr] = OTG_DIEPSIZ0_PKTCNT |
 395              		.loc 1 101 21
 396 0220 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 101:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->doeptsiz[addr] = OTG_DIEPSIZ0_PKTCNT |
 397              		.loc 1 101 50
 398 0222 1946     		mov	r1, r3
 101:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->doeptsiz[addr] = OTG_DIEPSIZ0_PKTCNT |
 399              		.loc 1 101 28
 400 0224 7B68     		ldr	r3, [r7, #4]
 401 0226 3C32     		adds	r2, r2, #60
 402 0228 43F82210 		str	r1, [r3, r2, lsl #2]
 103:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPTSIZ(addr)) = usbd_dev->doeptsiz[addr];
 403              		.loc 1 103 50
 404 022c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 405              		.loc 1 103 3
 406 022e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 407 0230 5B01     		lsls	r3, r3, #5
 408 0232 1946     		mov	r1, r3
 409 0234 7B68     		ldr	r3, [r7, #4]
 410 0236 D3F8DC30 		ldr	r3, [r3, #220]
 411 023a DB6A     		ldr	r3, [r3, #44]
 412 023c 0B44     		add	r3, r3, r1
 413 023e 03F53163 		add	r3, r3, #2832
 414 0242 1946     		mov	r1, r3
 415              		.loc 1 103 50
 416 0244 7B68     		ldr	r3, [r7, #4]
 417 0246 3C32     		adds	r2, r2, #60
 418 0248 53F82230 		ldr	r3, [r3, r2, lsl #2]
 419              		.loc 1 103 30
 420 024c 0B60     		str	r3, [r1]
 104:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_EPENA |
 421              		.loc 1 104 29
 422 024e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 423 0250 5833     		adds	r3, r3, #88
 424 0252 5B01     		lsls	r3, r3, #5
 425 0254 1A46     		mov	r2, r3
 426              		.loc 1 104 3
 427 0256 7B68     		ldr	r3, [r7, #4]
 428 0258 D3F8DC30 		ldr	r3, [r3, #220]
 429 025c DB6A     		ldr	r3, [r3, #44]
 430              		.loc 1 104 29
 431 025e 1344     		add	r3, r3, r2
 432 0260 1A68     		ldr	r2, [r3]
 105:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DOEPCTL0_USBAEP | OTG_DIEPCTL0_CNAK |
 106:../libopencm3/lib/usb/usb_dwc_common.c **** 		    OTG_DOEPCTLX_SD0PID | (type << 18) | max_size;
 433              		.loc 1 106 35
 434 0262 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 435 0264 9B04     		lsls	r3, r3, #18
 436              		.loc 1 106 27
 437 0266 43F01443 		orr	r3, r3, #-1811939328
 438 026a 43F40043 		orr	r3, r3, #32768
 439              		.loc 1 106 42
 440 026e 3988     		ldrh	r1, [r7]
 441 0270 0B43     		orrs	r3, r3, r1
 442 0272 1846     		mov	r0, r3
 104:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_EPENA |
 443              		.loc 1 104 29
 444 0274 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 445 0276 5833     		adds	r3, r3, #88
 446 0278 5B01     		lsls	r3, r3, #5
 447 027a 1946     		mov	r1, r3
 104:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_EPENA |
 448              		.loc 1 104 3
 449 027c 7B68     		ldr	r3, [r7, #4]
 450 027e D3F8DC30 		ldr	r3, [r3, #220]
 451 0282 DB6A     		ldr	r3, [r3, #44]
 104:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_EPENA |
 452              		.loc 1 104 29
 453 0284 0B44     		add	r3, r3, r1
 454 0286 1946     		mov	r1, r3
 455 0288 42EA0003 		orr	r3, r2, r0
 456 028c 0B60     		str	r3, [r1]
 107:../libopencm3/lib/usb/usb_dwc_common.c **** 
 108:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (callback) {
 457              		.loc 1 108 6
 458 028e BB69     		ldr	r3, [r7, #24]
 459 0290 002B     		cmp	r3, #0
 460 0292 09D0     		beq	.L2
 109:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_ctr[addr][USB_TRANSACTION_OUT] =
 461              		.loc 1 109 37
 462 0294 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 463              		.loc 1 109 59
 464 0296 7968     		ldr	r1, [r7, #4]
 465 0298 1346     		mov	r3, r2
 466 029a 5B00     		lsls	r3, r3, #1
 467 029c 1344     		add	r3, r3, r2
 468 029e 9B00     		lsls	r3, r3, #2
 469 02a0 0B44     		add	r3, r3, r1
 470 02a2 6C33     		adds	r3, r3, #108
 471 02a4 BA69     		ldr	r2, [r7, #24]
 472 02a6 1A60     		str	r2, [r3]
 473              	.L2:
 110:../libopencm3/lib/usb/usb_dwc_common.c **** 			    (void *)callback;
 111:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 112:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 113:../libopencm3/lib/usb/usb_dwc_common.c **** }
 474              		.loc 1 113 1
 475 02a8 1437     		adds	r7, r7, #20
 476              		.cfi_def_cfa_offset 4
 477 02aa BD46     		mov	sp, r7
 478              		.cfi_def_cfa_register 13
 479              		@ sp needed
 480 02ac 80BC     		pop	{r7}
 481              		.cfi_restore 7
 482              		.cfi_def_cfa_offset 0
 483 02ae 7047     		bx	lr
 484              		.cfi_endproc
 485              	.LFE1:
 487              		.section	.text.dwc_endpoints_reset,"ax",%progbits
 488              		.align	1
 489              		.global	dwc_endpoints_reset
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 493              		.fpu softvfp
 495              	dwc_endpoints_reset:
 496              	.LFB2:
 114:../libopencm3/lib/usb/usb_dwc_common.c **** 
 115:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_endpoints_reset(usbd_device *usbd_dev)
 116:../libopencm3/lib/usb/usb_dwc_common.c **** {
 497              		.loc 1 116 1
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 16
 500              		@ frame_needed = 1, uses_anonymous_args = 0
 501              		@ link register save eliminated.
 502 0000 80B4     		push	{r7}
 503              		.cfi_def_cfa_offset 4
 504              		.cfi_offset 7, -4
 505 0002 85B0     		sub	sp, sp, #20
 506              		.cfi_def_cfa_offset 24
 507 0004 00AF     		add	r7, sp, #0
 508              		.cfi_def_cfa_register 7
 509 0006 7860     		str	r0, [r7, #4]
 117:../libopencm3/lib/usb/usb_dwc_common.c **** 	int i;
 118:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* The core resets the endpoints automatically on reset. */
 119:../libopencm3/lib/usb/usb_dwc_common.c **** 	usbd_dev->fifo_mem_top = usbd_dev->fifo_mem_top_ep0;
 510              		.loc 1 119 35
 511 0008 7B68     		ldr	r3, [r7, #4]
 512 000a B3F8EA20 		ldrh	r2, [r3, #234]
 513              		.loc 1 119 25
 514 000e 7B68     		ldr	r3, [r7, #4]
 515 0010 A3F8E820 		strh	r2, [r3, #232]	@ movhi
 120:../libopencm3/lib/usb/usb_dwc_common.c **** 
 121:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Disable any currently active endpoints */
 122:../libopencm3/lib/usb/usb_dwc_common.c **** 	for (i = 1; i < 4; i++) {
 516              		.loc 1 122 9
 517 0014 0123     		movs	r3, #1
 518 0016 FB60     		str	r3, [r7, #12]
 519              		.loc 1 122 2
 520 0018 46E0     		b	.L11
 521              	.L14:
 123:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DOEPCTL(i)) & OTG_DOEPCTL0_EPENA) {
 522              		.loc 1 123 7
 523 001a FB68     		ldr	r3, [r7, #12]
 524 001c 5833     		adds	r3, r3, #88
 525 001e 5B01     		lsls	r3, r3, #5
 526 0020 1A46     		mov	r2, r3
 527 0022 7B68     		ldr	r3, [r7, #4]
 528 0024 D3F8DC30 		ldr	r3, [r3, #220]
 529 0028 DB6A     		ldr	r3, [r3, #44]
 530 002a 1344     		add	r3, r3, r2
 531 002c 1B68     		ldr	r3, [r3]
 532              		.loc 1 123 6
 533 002e 002B     		cmp	r3, #0
 534 0030 15DA     		bge	.L12
 124:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(i)) |= OTG_DOEPCTL0_EPDIS;
 535              		.loc 1 124 27
 536 0032 FB68     		ldr	r3, [r7, #12]
 537 0034 5833     		adds	r3, r3, #88
 538 0036 5B01     		lsls	r3, r3, #5
 539 0038 1A46     		mov	r2, r3
 540              		.loc 1 124 4
 541 003a 7B68     		ldr	r3, [r7, #4]
 542 003c D3F8DC30 		ldr	r3, [r3, #220]
 543 0040 DB6A     		ldr	r3, [r3, #44]
 544              		.loc 1 124 27
 545 0042 1344     		add	r3, r3, r2
 546 0044 1B68     		ldr	r3, [r3]
 547 0046 FA68     		ldr	r2, [r7, #12]
 548 0048 5832     		adds	r2, r2, #88
 549 004a 5201     		lsls	r2, r2, #5
 550 004c 1146     		mov	r1, r2
 551              		.loc 1 124 4
 552 004e 7A68     		ldr	r2, [r7, #4]
 553 0050 D2F8DC20 		ldr	r2, [r2, #220]
 554 0054 D26A     		ldr	r2, [r2, #44]
 555              		.loc 1 124 27
 556 0056 0A44     		add	r2, r2, r1
 557 0058 43F08043 		orr	r3, r3, #1073741824
 558 005c 1360     		str	r3, [r2]
 559              	.L12:
 125:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 126:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DIEPCTL(i)) & OTG_DIEPCTL0_EPENA) {
 560              		.loc 1 126 7
 561 005e FB68     		ldr	r3, [r7, #12]
 562 0060 4833     		adds	r3, r3, #72
 563 0062 5B01     		lsls	r3, r3, #5
 564 0064 1A46     		mov	r2, r3
 565 0066 7B68     		ldr	r3, [r7, #4]
 566 0068 D3F8DC30 		ldr	r3, [r3, #220]
 567 006c DB6A     		ldr	r3, [r3, #44]
 568 006e 1344     		add	r3, r3, r2
 569 0070 1B68     		ldr	r3, [r3]
 570              		.loc 1 126 6
 571 0072 002B     		cmp	r3, #0
 572 0074 15DA     		bge	.L13
 127:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(i)) |= OTG_DIEPCTL0_EPDIS;
 573              		.loc 1 127 27
 574 0076 FB68     		ldr	r3, [r7, #12]
 575 0078 4833     		adds	r3, r3, #72
 576 007a 5B01     		lsls	r3, r3, #5
 577 007c 1A46     		mov	r2, r3
 578              		.loc 1 127 4
 579 007e 7B68     		ldr	r3, [r7, #4]
 580 0080 D3F8DC30 		ldr	r3, [r3, #220]
 581 0084 DB6A     		ldr	r3, [r3, #44]
 582              		.loc 1 127 27
 583 0086 1344     		add	r3, r3, r2
 584 0088 1B68     		ldr	r3, [r3]
 585 008a FA68     		ldr	r2, [r7, #12]
 586 008c 4832     		adds	r2, r2, #72
 587 008e 5201     		lsls	r2, r2, #5
 588 0090 1146     		mov	r1, r2
 589              		.loc 1 127 4
 590 0092 7A68     		ldr	r2, [r7, #4]
 591 0094 D2F8DC20 		ldr	r2, [r2, #220]
 592 0098 D26A     		ldr	r2, [r2, #44]
 593              		.loc 1 127 27
 594 009a 0A44     		add	r2, r2, r1
 595 009c 43F08043 		orr	r3, r3, #1073741824
 596 00a0 1360     		str	r3, [r2]
 597              	.L13:
 122:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DOEPCTL(i)) & OTG_DOEPCTL0_EPENA) {
 598              		.loc 1 122 22 discriminator 2
 599 00a2 FB68     		ldr	r3, [r7, #12]
 600 00a4 0133     		adds	r3, r3, #1
 601 00a6 FB60     		str	r3, [r7, #12]
 602              	.L11:
 122:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DOEPCTL(i)) & OTG_DOEPCTL0_EPENA) {
 603              		.loc 1 122 2 discriminator 1
 604 00a8 FB68     		ldr	r3, [r7, #12]
 605 00aa 032B     		cmp	r3, #3
 606 00ac B5DD     		ble	.L14
 128:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 129:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 130:../libopencm3/lib/usb/usb_dwc_common.c **** 
 131:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Flush all tx/rx fifos */
 132:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_GRSTCTL) = OTG_GRSTCTL_TXFFLSH | OTG_GRSTCTL_TXFNUM_ALL
 607              		.loc 1 132 2
 608 00ae 7B68     		ldr	r3, [r7, #4]
 609 00b0 D3F8DC30 		ldr	r3, [r3, #220]
 610 00b4 DB6A     		ldr	r3, [r3, #44]
 611 00b6 1033     		adds	r3, r3, #16
 612 00b8 1A46     		mov	r2, r3
 613              		.loc 1 132 22
 614 00ba 4FF48663 		mov	r3, #1072
 615 00be 1360     		str	r3, [r2]
 133:../libopencm3/lib/usb/usb_dwc_common.c **** 			      | OTG_GRSTCTL_RXFFLSH;
 134:../libopencm3/lib/usb/usb_dwc_common.c **** }
 616              		.loc 1 134 1
 617 00c0 00BF     		nop
 618 00c2 1437     		adds	r7, r7, #20
 619              		.cfi_def_cfa_offset 4
 620 00c4 BD46     		mov	sp, r7
 621              		.cfi_def_cfa_register 13
 622              		@ sp needed
 623 00c6 80BC     		pop	{r7}
 624              		.cfi_restore 7
 625              		.cfi_def_cfa_offset 0
 626 00c8 7047     		bx	lr
 627              		.cfi_endproc
 628              	.LFE2:
 630              		.section	.text.dwc_ep_stall_set,"ax",%progbits
 631              		.align	1
 632              		.global	dwc_ep_stall_set
 633              		.syntax unified
 634              		.thumb
 635              		.thumb_func
 636              		.fpu softvfp
 638              	dwc_ep_stall_set:
 639              	.LFB3:
 135:../libopencm3/lib/usb/usb_dwc_common.c **** 
 136:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_ep_stall_set(usbd_device *usbd_dev, uint8_t addr, uint8_t stall)
 137:../libopencm3/lib/usb/usb_dwc_common.c **** {
 640              		.loc 1 137 1
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 8
 643              		@ frame_needed = 1, uses_anonymous_args = 0
 644              		@ link register save eliminated.
 645 0000 80B4     		push	{r7}
 646              		.cfi_def_cfa_offset 4
 647              		.cfi_offset 7, -4
 648 0002 83B0     		sub	sp, sp, #12
 649              		.cfi_def_cfa_offset 16
 650 0004 00AF     		add	r7, sp, #0
 651              		.cfi_def_cfa_register 7
 652 0006 7860     		str	r0, [r7, #4]
 653 0008 0B46     		mov	r3, r1
 654 000a FB70     		strb	r3, [r7, #3]
 655 000c 1346     		mov	r3, r2
 656 000e BB70     		strb	r3, [r7, #2]
 138:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (addr == 0) {
 657              		.loc 1 138 5
 658 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 659 0012 002B     		cmp	r3, #0
 660 0014 2FD1     		bne	.L16
 139:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (stall) {
 661              		.loc 1 139 6
 662 0016 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 663 0018 002B     		cmp	r3, #0
 664 001a 16D0     		beq	.L17
 140:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTL0_STALL;
 665              		.loc 1 140 30
 666 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 667 001e 4833     		adds	r3, r3, #72
 668 0020 5B01     		lsls	r3, r3, #5
 669 0022 1A46     		mov	r2, r3
 670              		.loc 1 140 4
 671 0024 7B68     		ldr	r3, [r7, #4]
 672 0026 D3F8DC30 		ldr	r3, [r3, #220]
 673 002a DB6A     		ldr	r3, [r3, #44]
 674              		.loc 1 140 30
 675 002c 1344     		add	r3, r3, r2
 676 002e 1B68     		ldr	r3, [r3]
 677 0030 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 678 0032 4832     		adds	r2, r2, #72
 679 0034 5201     		lsls	r2, r2, #5
 680 0036 1146     		mov	r1, r2
 681              		.loc 1 140 4
 682 0038 7A68     		ldr	r2, [r7, #4]
 683 003a D2F8DC20 		ldr	r2, [r2, #220]
 684 003e D26A     		ldr	r2, [r2, #44]
 685              		.loc 1 140 30
 686 0040 0A44     		add	r2, r2, r1
 687 0042 43F40013 		orr	r3, r3, #2097152
 688 0046 1360     		str	r3, [r2]
 689 0048 15E0     		b	.L16
 690              	.L17:
 141:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 142:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) &= ~OTG_DIEPCTL0_STALL;
 691              		.loc 1 142 30
 692 004a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 693 004c 4833     		adds	r3, r3, #72
 694 004e 5B01     		lsls	r3, r3, #5
 695 0050 1A46     		mov	r2, r3
 696              		.loc 1 142 4
 697 0052 7B68     		ldr	r3, [r7, #4]
 698 0054 D3F8DC30 		ldr	r3, [r3, #220]
 699 0058 DB6A     		ldr	r3, [r3, #44]
 700              		.loc 1 142 30
 701 005a 1344     		add	r3, r3, r2
 702 005c 1B68     		ldr	r3, [r3]
 703 005e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 704 0060 4832     		adds	r2, r2, #72
 705 0062 5201     		lsls	r2, r2, #5
 706 0064 1146     		mov	r1, r2
 707              		.loc 1 142 4
 708 0066 7A68     		ldr	r2, [r7, #4]
 709 0068 D2F8DC20 		ldr	r2, [r2, #220]
 710 006c D26A     		ldr	r2, [r2, #44]
 711              		.loc 1 142 30
 712 006e 0A44     		add	r2, r2, r1
 713 0070 23F40013 		bic	r3, r3, #2097152
 714 0074 1360     		str	r3, [r2]
 715              	.L16:
 143:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 144:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 145:../libopencm3/lib/usb/usb_dwc_common.c **** 
 146:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (addr & 0x80) {
 716              		.loc 1 146 6
 717 0076 97F90330 		ldrsb	r3, [r7, #3]
 718              		.loc 1 146 5
 719 007a 002B     		cmp	r3, #0
 720 007c 4ADA     		bge	.L18
 147:../libopencm3/lib/usb/usb_dwc_common.c **** 		addr &= 0x7F;
 721              		.loc 1 147 8
 722 007e FB78     		ldrb	r3, [r7, #3]
 723 0080 03F07F03 		and	r3, r3, #127
 724 0084 FB70     		strb	r3, [r7, #3]
 148:../libopencm3/lib/usb/usb_dwc_common.c **** 
 149:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (stall) {
 725              		.loc 1 149 6
 726 0086 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 727 0088 002B     		cmp	r3, #0
 728 008a 16D0     		beq	.L19
 150:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTL0_STALL;
 729              		.loc 1 150 30
 730 008c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 731 008e 4833     		adds	r3, r3, #72
 732 0090 5B01     		lsls	r3, r3, #5
 733 0092 1A46     		mov	r2, r3
 734              		.loc 1 150 4
 735 0094 7B68     		ldr	r3, [r7, #4]
 736 0096 D3F8DC30 		ldr	r3, [r3, #220]
 737 009a DB6A     		ldr	r3, [r3, #44]
 738              		.loc 1 150 30
 739 009c 1344     		add	r3, r3, r2
 740 009e 1B68     		ldr	r3, [r3]
 741 00a0 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 742 00a2 4832     		adds	r2, r2, #72
 743 00a4 5201     		lsls	r2, r2, #5
 744 00a6 1146     		mov	r1, r2
 745              		.loc 1 150 4
 746 00a8 7A68     		ldr	r2, [r7, #4]
 747 00aa D2F8DC20 		ldr	r2, [r2, #220]
 748 00ae D26A     		ldr	r2, [r2, #44]
 749              		.loc 1 150 30
 750 00b0 0A44     		add	r2, r2, r1
 751 00b2 43F40013 		orr	r3, r3, #2097152
 752 00b6 1360     		str	r3, [r2]
 151:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 152:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) &= ~OTG_DIEPCTL0_STALL;
 153:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTLX_SD0PID;
 154:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 155:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 156:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (stall) {
 157:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_STALL;
 158:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 159:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) &= ~OTG_DOEPCTL0_STALL;
 160:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTLX_SD0PID;
 161:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 162:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 163:../libopencm3/lib/usb/usb_dwc_common.c **** }
 753              		.loc 1 163 1
 754 00b8 72E0     		b	.L23
 755              	.L19:
 152:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTLX_SD0PID;
 756              		.loc 1 152 30
 757 00ba FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 758 00bc 4833     		adds	r3, r3, #72
 759 00be 5B01     		lsls	r3, r3, #5
 760 00c0 1A46     		mov	r2, r3
 152:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTLX_SD0PID;
 761              		.loc 1 152 4
 762 00c2 7B68     		ldr	r3, [r7, #4]
 763 00c4 D3F8DC30 		ldr	r3, [r3, #220]
 764 00c8 DB6A     		ldr	r3, [r3, #44]
 152:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTLX_SD0PID;
 765              		.loc 1 152 30
 766 00ca 1344     		add	r3, r3, r2
 767 00cc 1B68     		ldr	r3, [r3]
 768 00ce FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 769 00d0 4832     		adds	r2, r2, #72
 770 00d2 5201     		lsls	r2, r2, #5
 771 00d4 1146     		mov	r1, r2
 152:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTLX_SD0PID;
 772              		.loc 1 152 4
 773 00d6 7A68     		ldr	r2, [r7, #4]
 774 00d8 D2F8DC20 		ldr	r2, [r2, #220]
 775 00dc D26A     		ldr	r2, [r2, #44]
 152:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTLX_SD0PID;
 776              		.loc 1 152 30
 777 00de 0A44     		add	r2, r2, r1
 778 00e0 23F40013 		bic	r3, r3, #2097152
 779 00e4 1360     		str	r3, [r2]
 153:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 780              		.loc 1 153 30
 781 00e6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 782 00e8 4833     		adds	r3, r3, #72
 783 00ea 5B01     		lsls	r3, r3, #5
 784 00ec 1A46     		mov	r2, r3
 153:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 785              		.loc 1 153 4
 786 00ee 7B68     		ldr	r3, [r7, #4]
 787 00f0 D3F8DC30 		ldr	r3, [r3, #220]
 788 00f4 DB6A     		ldr	r3, [r3, #44]
 153:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 789              		.loc 1 153 30
 790 00f6 1344     		add	r3, r3, r2
 791 00f8 1B68     		ldr	r3, [r3]
 792 00fa FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 793 00fc 4832     		adds	r2, r2, #72
 794 00fe 5201     		lsls	r2, r2, #5
 795 0100 1146     		mov	r1, r2
 153:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 796              		.loc 1 153 4
 797 0102 7A68     		ldr	r2, [r7, #4]
 798 0104 D2F8DC20 		ldr	r2, [r2, #220]
 799 0108 D26A     		ldr	r2, [r2, #44]
 153:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 800              		.loc 1 153 30
 801 010a 0A44     		add	r2, r2, r1
 802 010c 43F08053 		orr	r3, r3, #268435456
 803 0110 1360     		str	r3, [r2]
 804              		.loc 1 163 1
 805 0112 45E0     		b	.L23
 806              	.L18:
 156:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_STALL;
 807              		.loc 1 156 6
 808 0114 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 809 0116 002B     		cmp	r3, #0
 810 0118 16D0     		beq	.L22
 157:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 811              		.loc 1 157 30
 812 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 813 011c 5833     		adds	r3, r3, #88
 814 011e 5B01     		lsls	r3, r3, #5
 815 0120 1A46     		mov	r2, r3
 157:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 816              		.loc 1 157 4
 817 0122 7B68     		ldr	r3, [r7, #4]
 818 0124 D3F8DC30 		ldr	r3, [r3, #220]
 819 0128 DB6A     		ldr	r3, [r3, #44]
 157:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 820              		.loc 1 157 30
 821 012a 1344     		add	r3, r3, r2
 822 012c 1B68     		ldr	r3, [r3]
 823 012e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 824 0130 5832     		adds	r2, r2, #88
 825 0132 5201     		lsls	r2, r2, #5
 826 0134 1146     		mov	r1, r2
 157:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 827              		.loc 1 157 4
 828 0136 7A68     		ldr	r2, [r7, #4]
 829 0138 D2F8DC20 		ldr	r2, [r2, #220]
 830 013c D26A     		ldr	r2, [r2, #44]
 157:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 831              		.loc 1 157 30
 832 013e 0A44     		add	r2, r2, r1
 833 0140 43F40013 		orr	r3, r3, #2097152
 834 0144 1360     		str	r3, [r2]
 835              		.loc 1 163 1
 836 0146 2BE0     		b	.L23
 837              	.L22:
 159:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTLX_SD0PID;
 838              		.loc 1 159 30
 839 0148 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 840 014a 5833     		adds	r3, r3, #88
 841 014c 5B01     		lsls	r3, r3, #5
 842 014e 1A46     		mov	r2, r3
 159:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTLX_SD0PID;
 843              		.loc 1 159 4
 844 0150 7B68     		ldr	r3, [r7, #4]
 845 0152 D3F8DC30 		ldr	r3, [r3, #220]
 846 0156 DB6A     		ldr	r3, [r3, #44]
 159:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTLX_SD0PID;
 847              		.loc 1 159 30
 848 0158 1344     		add	r3, r3, r2
 849 015a 1B68     		ldr	r3, [r3]
 850 015c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 851 015e 5832     		adds	r2, r2, #88
 852 0160 5201     		lsls	r2, r2, #5
 853 0162 1146     		mov	r1, r2
 159:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTLX_SD0PID;
 854              		.loc 1 159 4
 855 0164 7A68     		ldr	r2, [r7, #4]
 856 0166 D2F8DC20 		ldr	r2, [r2, #220]
 857 016a D26A     		ldr	r2, [r2, #44]
 159:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTLX_SD0PID;
 858              		.loc 1 159 30
 859 016c 0A44     		add	r2, r2, r1
 860 016e 23F40013 		bic	r3, r3, #2097152
 861 0172 1360     		str	r3, [r2]
 160:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 862              		.loc 1 160 30
 863 0174 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 864 0176 5833     		adds	r3, r3, #88
 865 0178 5B01     		lsls	r3, r3, #5
 866 017a 1A46     		mov	r2, r3
 160:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 867              		.loc 1 160 4
 868 017c 7B68     		ldr	r3, [r7, #4]
 869 017e D3F8DC30 		ldr	r3, [r3, #220]
 870 0182 DB6A     		ldr	r3, [r3, #44]
 160:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 871              		.loc 1 160 30
 872 0184 1344     		add	r3, r3, r2
 873 0186 1B68     		ldr	r3, [r3]
 874 0188 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 875 018a 5832     		adds	r2, r2, #88
 876 018c 5201     		lsls	r2, r2, #5
 877 018e 1146     		mov	r1, r2
 160:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 878              		.loc 1 160 4
 879 0190 7A68     		ldr	r2, [r7, #4]
 880 0192 D2F8DC20 		ldr	r2, [r2, #220]
 881 0196 D26A     		ldr	r2, [r2, #44]
 160:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 882              		.loc 1 160 30
 883 0198 0A44     		add	r2, r2, r1
 884 019a 43F08053 		orr	r3, r3, #268435456
 885 019e 1360     		str	r3, [r2]
 886              	.L23:
 887              		.loc 1 163 1
 888 01a0 00BF     		nop
 889 01a2 0C37     		adds	r7, r7, #12
 890              		.cfi_def_cfa_offset 4
 891 01a4 BD46     		mov	sp, r7
 892              		.cfi_def_cfa_register 13
 893              		@ sp needed
 894 01a6 80BC     		pop	{r7}
 895              		.cfi_restore 7
 896              		.cfi_def_cfa_offset 0
 897 01a8 7047     		bx	lr
 898              		.cfi_endproc
 899              	.LFE3:
 901              		.section	.text.dwc_ep_stall_get,"ax",%progbits
 902              		.align	1
 903              		.global	dwc_ep_stall_get
 904              		.syntax unified
 905              		.thumb
 906              		.thumb_func
 907              		.fpu softvfp
 909              	dwc_ep_stall_get:
 910              	.LFB4:
 164:../libopencm3/lib/usb/usb_dwc_common.c **** 
 165:../libopencm3/lib/usb/usb_dwc_common.c **** uint8_t dwc_ep_stall_get(usbd_device *usbd_dev, uint8_t addr)
 166:../libopencm3/lib/usb/usb_dwc_common.c **** {
 911              		.loc 1 166 1
 912              		.cfi_startproc
 913              		@ args = 0, pretend = 0, frame = 8
 914              		@ frame_needed = 1, uses_anonymous_args = 0
 915              		@ link register save eliminated.
 916 0000 80B4     		push	{r7}
 917              		.cfi_def_cfa_offset 4
 918              		.cfi_offset 7, -4
 919 0002 83B0     		sub	sp, sp, #12
 920              		.cfi_def_cfa_offset 16
 921 0004 00AF     		add	r7, sp, #0
 922              		.cfi_def_cfa_register 7
 923 0006 7860     		str	r0, [r7, #4]
 924 0008 0B46     		mov	r3, r1
 925 000a FB70     		strb	r3, [r7, #3]
 167:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Return non-zero if STALL set. */
 168:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (addr & 0x80) {
 926              		.loc 1 168 6
 927 000c 97F90330 		ldrsb	r3, [r7, #3]
 928              		.loc 1 168 5
 929 0010 002B     		cmp	r3, #0
 930 0012 13DA     		bge	.L25
 169:../libopencm3/lib/usb/usb_dwc_common.c **** 		return (REBASE(OTG_DIEPCTL(addr & 0x7f)) &
 931              		.loc 1 169 11
 932 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 933 0016 03F07F03 		and	r3, r3, #127
 934 001a 4833     		adds	r3, r3, #72
 935 001c 5B01     		lsls	r3, r3, #5
 936 001e 1A46     		mov	r2, r3
 937 0020 7B68     		ldr	r3, [r7, #4]
 938 0022 D3F8DC30 		ldr	r3, [r3, #220]
 939 0026 DB6A     		ldr	r3, [r3, #44]
 940 0028 1344     		add	r3, r3, r2
 941 002a 1B68     		ldr	r3, [r3]
 942              		.loc 1 169 44
 943 002c 03F40013 		and	r3, r3, #2097152
 170:../libopencm3/lib/usb/usb_dwc_common.c **** 				OTG_DIEPCTL0_STALL) ? 1 : 0;
 944              		.loc 1 170 29
 945 0030 002B     		cmp	r3, #0
 946 0032 14BF     		ite	ne
 947 0034 0123     		movne	r3, #1
 948 0036 0023     		moveq	r3, #0
 949 0038 DBB2     		uxtb	r3, r3
 950 003a 10E0     		b	.L26
 951              	.L25:
 171:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 172:../libopencm3/lib/usb/usb_dwc_common.c **** 		return (REBASE(OTG_DOEPCTL(addr)) &
 952              		.loc 1 172 11
 953 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 954 003e 5833     		adds	r3, r3, #88
 955 0040 5B01     		lsls	r3, r3, #5
 956 0042 1A46     		mov	r2, r3
 957 0044 7B68     		ldr	r3, [r7, #4]
 958 0046 D3F8DC30 		ldr	r3, [r3, #220]
 959 004a DB6A     		ldr	r3, [r3, #44]
 960 004c 1344     		add	r3, r3, r2
 961 004e 1B68     		ldr	r3, [r3]
 962              		.loc 1 172 37
 963 0050 03F40013 		and	r3, r3, #2097152
 173:../libopencm3/lib/usb/usb_dwc_common.c **** 				OTG_DOEPCTL0_STALL) ? 1 : 0;
 964              		.loc 1 173 29
 965 0054 002B     		cmp	r3, #0
 966 0056 14BF     		ite	ne
 967 0058 0123     		movne	r3, #1
 968 005a 0023     		moveq	r3, #0
 969 005c DBB2     		uxtb	r3, r3
 970              	.L26:
 174:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 175:../libopencm3/lib/usb/usb_dwc_common.c **** }
 971              		.loc 1 175 1
 972 005e 1846     		mov	r0, r3
 973 0060 0C37     		adds	r7, r7, #12
 974              		.cfi_def_cfa_offset 4
 975 0062 BD46     		mov	sp, r7
 976              		.cfi_def_cfa_register 13
 977              		@ sp needed
 978 0064 80BC     		pop	{r7}
 979              		.cfi_restore 7
 980              		.cfi_def_cfa_offset 0
 981 0066 7047     		bx	lr
 982              		.cfi_endproc
 983              	.LFE4:
 985              		.section	.text.dwc_ep_nak_set,"ax",%progbits
 986              		.align	1
 987              		.global	dwc_ep_nak_set
 988              		.syntax unified
 989              		.thumb
 990              		.thumb_func
 991              		.fpu softvfp
 993              	dwc_ep_nak_set:
 994              	.LFB5:
 176:../libopencm3/lib/usb/usb_dwc_common.c **** 
 177:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_ep_nak_set(usbd_device *usbd_dev, uint8_t addr, uint8_t nak)
 178:../libopencm3/lib/usb/usb_dwc_common.c **** {
 995              		.loc 1 178 1
 996              		.cfi_startproc
 997              		@ args = 0, pretend = 0, frame = 8
 998              		@ frame_needed = 1, uses_anonymous_args = 0
 999              		@ link register save eliminated.
 1000 0000 80B4     		push	{r7}
 1001              		.cfi_def_cfa_offset 4
 1002              		.cfi_offset 7, -4
 1003 0002 83B0     		sub	sp, sp, #12
 1004              		.cfi_def_cfa_offset 16
 1005 0004 00AF     		add	r7, sp, #0
 1006              		.cfi_def_cfa_register 7
 1007 0006 7860     		str	r0, [r7, #4]
 1008 0008 0B46     		mov	r3, r1
 1009 000a FB70     		strb	r3, [r7, #3]
 1010 000c 1346     		mov	r3, r2
 1011 000e BB70     		strb	r3, [r7, #2]
 179:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* It does not make sense to force NAK on IN endpoints. */
 180:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (addr & 0x80) {
 1012              		.loc 1 180 6
 1013 0010 97F90330 		ldrsb	r3, [r7, #3]
 1014              		.loc 1 180 5
 1015 0014 002B     		cmp	r3, #0
 1016 0016 36DB     		blt	.L31
 181:../libopencm3/lib/usb/usb_dwc_common.c **** 		return;
 182:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 183:../libopencm3/lib/usb/usb_dwc_common.c **** 
 184:../libopencm3/lib/usb/usb_dwc_common.c **** 	usbd_dev->force_nak[addr] = nak;
 1017              		.loc 1 184 21
 1018 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1019              		.loc 1 184 28
 1020 001a 7A68     		ldr	r2, [r7, #4]
 1021 001c 1344     		add	r3, r3, r2
 1022 001e BA78     		ldrb	r2, [r7, #2]
 1023 0020 83F8EC20 		strb	r2, [r3, #236]
 185:../libopencm3/lib/usb/usb_dwc_common.c **** 
 186:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (nak) {
 1024              		.loc 1 186 5
 1025 0024 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 1026 0026 002B     		cmp	r3, #0
 1027 0028 16D0     		beq	.L30
 187:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_SNAK;
 1028              		.loc 1 187 29
 1029 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1030 002c 5833     		adds	r3, r3, #88
 1031 002e 5B01     		lsls	r3, r3, #5
 1032 0030 1A46     		mov	r2, r3
 1033              		.loc 1 187 3
 1034 0032 7B68     		ldr	r3, [r7, #4]
 1035 0034 D3F8DC30 		ldr	r3, [r3, #220]
 1036 0038 DB6A     		ldr	r3, [r3, #44]
 1037              		.loc 1 187 29
 1038 003a 1344     		add	r3, r3, r2
 1039 003c 1B68     		ldr	r3, [r3]
 1040 003e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1041 0040 5832     		adds	r2, r2, #88
 1042 0042 5201     		lsls	r2, r2, #5
 1043 0044 1146     		mov	r1, r2
 1044              		.loc 1 187 3
 1045 0046 7A68     		ldr	r2, [r7, #4]
 1046 0048 D2F8DC20 		ldr	r2, [r2, #220]
 1047 004c D26A     		ldr	r2, [r2, #44]
 1048              		.loc 1 187 29
 1049 004e 0A44     		add	r2, r2, r1
 1050 0050 43F00063 		orr	r3, r3, #134217728
 1051 0054 1360     		str	r3, [r2]
 1052 0056 17E0     		b	.L27
 1053              	.L30:
 188:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 189:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DOEPCTL(addr)) |= OTG_DOEPCTL0_CNAK;
 1054              		.loc 1 189 29
 1055 0058 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1056 005a 5833     		adds	r3, r3, #88
 1057 005c 5B01     		lsls	r3, r3, #5
 1058 005e 1A46     		mov	r2, r3
 1059              		.loc 1 189 3
 1060 0060 7B68     		ldr	r3, [r7, #4]
 1061 0062 D3F8DC30 		ldr	r3, [r3, #220]
 1062 0066 DB6A     		ldr	r3, [r3, #44]
 1063              		.loc 1 189 29
 1064 0068 1344     		add	r3, r3, r2
 1065 006a 1B68     		ldr	r3, [r3]
 1066 006c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1067 006e 5832     		adds	r2, r2, #88
 1068 0070 5201     		lsls	r2, r2, #5
 1069 0072 1146     		mov	r1, r2
 1070              		.loc 1 189 3
 1071 0074 7A68     		ldr	r2, [r7, #4]
 1072 0076 D2F8DC20 		ldr	r2, [r2, #220]
 1073 007a D26A     		ldr	r2, [r2, #44]
 1074              		.loc 1 189 29
 1075 007c 0A44     		add	r2, r2, r1
 1076 007e 43F08063 		orr	r3, r3, #67108864
 1077 0082 1360     		str	r3, [r2]
 1078 0084 00E0     		b	.L27
 1079              	.L31:
 181:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 1080              		.loc 1 181 3
 1081 0086 00BF     		nop
 1082              	.L27:
 190:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 191:../libopencm3/lib/usb/usb_dwc_common.c **** }
 1083              		.loc 1 191 1
 1084 0088 0C37     		adds	r7, r7, #12
 1085              		.cfi_def_cfa_offset 4
 1086 008a BD46     		mov	sp, r7
 1087              		.cfi_def_cfa_register 13
 1088              		@ sp needed
 1089 008c 80BC     		pop	{r7}
 1090              		.cfi_restore 7
 1091              		.cfi_def_cfa_offset 0
 1092 008e 7047     		bx	lr
 1093              		.cfi_endproc
 1094              	.LFE5:
 1096              		.section	.text.dwc_ep_write_packet,"ax",%progbits
 1097              		.align	1
 1098              		.global	dwc_ep_write_packet
 1099              		.syntax unified
 1100              		.thumb
 1101              		.thumb_func
 1102              		.fpu softvfp
 1104              	dwc_ep_write_packet:
 1105              	.LFB6:
 192:../libopencm3/lib/usb/usb_dwc_common.c **** 
 193:../libopencm3/lib/usb/usb_dwc_common.c **** uint16_t dwc_ep_write_packet(usbd_device *usbd_dev, uint8_t addr,
 194:../libopencm3/lib/usb/usb_dwc_common.c **** 			      const void *buf, uint16_t len)
 195:../libopencm3/lib/usb/usb_dwc_common.c **** {
 1106              		.loc 1 195 1
 1107              		.cfi_startproc
 1108              		@ args = 0, pretend = 0, frame = 24
 1109              		@ frame_needed = 1, uses_anonymous_args = 0
 1110              		@ link register save eliminated.
 1111 0000 80B4     		push	{r7}
 1112              		.cfi_def_cfa_offset 4
 1113              		.cfi_offset 7, -4
 1114 0002 87B0     		sub	sp, sp, #28
 1115              		.cfi_def_cfa_offset 32
 1116 0004 00AF     		add	r7, sp, #0
 1117              		.cfi_def_cfa_register 7
 1118 0006 F860     		str	r0, [r7, #12]
 1119 0008 7A60     		str	r2, [r7, #4]
 1120 000a 1A46     		mov	r2, r3
 1121 000c 0B46     		mov	r3, r1
 1122 000e FB72     		strb	r3, [r7, #11]
 1123 0010 1346     		mov	r3, r2	@ movhi
 1124 0012 3B81     		strh	r3, [r7, #8]	@ movhi
 196:../libopencm3/lib/usb/usb_dwc_common.c **** 	const uint32_t *buf32 = buf;
 1125              		.loc 1 196 18
 1126 0014 7B68     		ldr	r3, [r7, #4]
 1127 0016 7B61     		str	r3, [r7, #20]
 197:../libopencm3/lib/usb/usb_dwc_common.c **** #if defined(__ARM_ARCH_6M__)
 198:../libopencm3/lib/usb/usb_dwc_common.c **** 	const uint8_t *buf8 = buf;
 199:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint32_t word32;
 200:../libopencm3/lib/usb/usb_dwc_common.c **** #endif /* defined(__ARM_ARCH_6M__) */
 201:../libopencm3/lib/usb/usb_dwc_common.c **** 	int i;
 202:../libopencm3/lib/usb/usb_dwc_common.c **** 
 203:../libopencm3/lib/usb/usb_dwc_common.c **** 	addr &= 0x7F;
 1128              		.loc 1 203 7
 1129 0018 FB7A     		ldrb	r3, [r7, #11]
 1130 001a 03F07F03 		and	r3, r3, #127
 1131 001e FB72     		strb	r3, [r7, #11]
 204:../libopencm3/lib/usb/usb_dwc_common.c **** 
 205:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Return if endpoint is already enabled. */
 206:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (REBASE(OTG_DIEPTSIZ(addr)) & OTG_DIEPSIZ0_PKTCNT) {
 1132              		.loc 1 206 6
 1133 0020 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1134 0022 5B01     		lsls	r3, r3, #5
 1135 0024 1A46     		mov	r2, r3
 1136 0026 FB68     		ldr	r3, [r7, #12]
 1137 0028 D3F8DC30 		ldr	r3, [r3, #220]
 1138 002c DB6A     		ldr	r3, [r3, #44]
 1139 002e 1344     		add	r3, r3, r2
 1140 0030 03F51163 		add	r3, r3, #2320
 1141 0034 1B68     		ldr	r3, [r3]
 1142              		.loc 1 206 33
 1143 0036 03F40023 		and	r3, r3, #524288
 1144              		.loc 1 206 5
 1145 003a 002B     		cmp	r3, #0
 1146 003c 01D0     		beq	.L33
 207:../libopencm3/lib/usb/usb_dwc_common.c **** 		return 0;
 1147              		.loc 1 207 10
 1148 003e 0023     		movs	r3, #0
 1149 0040 3BE0     		b	.L34
 1150              	.L33:
 208:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 209:../libopencm3/lib/usb/usb_dwc_common.c **** 
 210:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Enable endpoint for transmission. */
 211:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_DIEPTSIZ(addr)) = OTG_DIEPSIZ0_PKTCNT | len;
 1151              		.loc 1 211 51
 1152 0042 3B89     		ldrh	r3, [r7, #8]
 1153 0044 43F40022 		orr	r2, r3, #524288
 1154              		.loc 1 211 2
 1155 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1156 004a 5B01     		lsls	r3, r3, #5
 1157 004c 1946     		mov	r1, r3
 1158 004e FB68     		ldr	r3, [r7, #12]
 1159 0050 D3F8DC30 		ldr	r3, [r3, #220]
 1160 0054 DB6A     		ldr	r3, [r3, #44]
 1161 0056 0B44     		add	r3, r3, r1
 1162 0058 03F51163 		add	r3, r3, #2320
 1163              		.loc 1 211 29
 1164 005c 1A60     		str	r2, [r3]
 212:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_DIEPCTL(addr)) |= OTG_DIEPCTL0_EPENA |
 1165              		.loc 1 212 28
 1166 005e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1167 0060 4833     		adds	r3, r3, #72
 1168 0062 5B01     		lsls	r3, r3, #5
 1169 0064 1A46     		mov	r2, r3
 1170              		.loc 1 212 2
 1171 0066 FB68     		ldr	r3, [r7, #12]
 1172 0068 D3F8DC30 		ldr	r3, [r3, #220]
 1173 006c DB6A     		ldr	r3, [r3, #44]
 1174              		.loc 1 212 28
 1175 006e 1344     		add	r3, r3, r2
 1176 0070 1B68     		ldr	r3, [r3]
 1177 0072 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1178 0074 4832     		adds	r2, r2, #72
 1179 0076 5201     		lsls	r2, r2, #5
 1180 0078 1146     		mov	r1, r2
 1181              		.loc 1 212 2
 1182 007a FA68     		ldr	r2, [r7, #12]
 1183 007c D2F8DC20 		ldr	r2, [r2, #220]
 1184 0080 D26A     		ldr	r2, [r2, #44]
 1185              		.loc 1 212 28
 1186 0082 0A44     		add	r2, r2, r1
 1187 0084 43F00443 		orr	r3, r3, #-2080374784
 1188 0088 1360     		str	r3, [r2]
 213:../libopencm3/lib/usb/usb_dwc_common.c **** 				     OTG_DIEPCTL0_CNAK;
 214:../libopencm3/lib/usb/usb_dwc_common.c **** 
 215:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Copy buffer to endpoint FIFO, note - memcpy does not work.
 216:../libopencm3/lib/usb/usb_dwc_common.c **** 	 * ARMv7M supports non-word-aligned accesses, ARMv6M does not. */
 217:../libopencm3/lib/usb/usb_dwc_common.c **** #if defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 218:../libopencm3/lib/usb/usb_dwc_common.c **** 	for (i = len; i > 0; i -= 4) {
 1189              		.loc 1 218 9
 1190 008a 3B89     		ldrh	r3, [r7, #8]
 1191 008c 3B61     		str	r3, [r7, #16]
 1192              		.loc 1 218 2
 1193 008e 10E0     		b	.L35
 1194              	.L36:
 219:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_FIFO(addr)) = *buf32++;
 1195              		.loc 1 219 34 discriminator 3
 1196 0090 7B69     		ldr	r3, [r7, #20]
 1197 0092 1A1D     		adds	r2, r3, #4
 1198 0094 7A61     		str	r2, [r7, #20]
 1199              		.loc 1 219 3 discriminator 3
 1200 0096 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1201 0098 0132     		adds	r2, r2, #1
 1202 009a 1203     		lsls	r2, r2, #12
 1203 009c 1146     		mov	r1, r2
 1204 009e FA68     		ldr	r2, [r7, #12]
 1205 00a0 D2F8DC20 		ldr	r2, [r2, #220]
 1206 00a4 D26A     		ldr	r2, [r2, #44]
 1207 00a6 0A44     		add	r2, r2, r1
 1208              		.loc 1 219 28 discriminator 3
 1209 00a8 1B68     		ldr	r3, [r3]
 1210              		.loc 1 219 26 discriminator 3
 1211 00aa 1360     		str	r3, [r2]
 218:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_FIFO(addr)) = *buf32++;
 1212              		.loc 1 218 25 discriminator 3
 1213 00ac 3B69     		ldr	r3, [r7, #16]
 1214 00ae 043B     		subs	r3, r3, #4
 1215 00b0 3B61     		str	r3, [r7, #16]
 1216              	.L35:
 218:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_FIFO(addr)) = *buf32++;
 1217              		.loc 1 218 2 discriminator 1
 1218 00b2 3B69     		ldr	r3, [r7, #16]
 1219 00b4 002B     		cmp	r3, #0
 1220 00b6 EBDC     		bgt	.L36
 220:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 221:../libopencm3/lib/usb/usb_dwc_common.c **** #endif /* defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__) */
 222:../libopencm3/lib/usb/usb_dwc_common.c **** 
 223:../libopencm3/lib/usb/usb_dwc_common.c **** #if defined(__ARM_ARCH_6M__)
 224:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Take care of word-aligned and non-word-aligned buffers */
 225:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (((uint32_t)buf8 & 0x3) == 0) {
 226:../libopencm3/lib/usb/usb_dwc_common.c **** 		for (i = len; i > 0; i -= 4) {
 227:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_FIFO(addr)) = *buf32++;
 228:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 229:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 230:../libopencm3/lib/usb/usb_dwc_common.c **** 		for (i = len; i > 0; i -= 4) {
 231:../libopencm3/lib/usb/usb_dwc_common.c **** 			memcpy(&word32, buf8, 4);
 232:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_FIFO(addr)) = word32;
 233:../libopencm3/lib/usb/usb_dwc_common.c **** 			buf8 += 4;
 234:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 235:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 236:../libopencm3/lib/usb/usb_dwc_common.c **** #endif /* defined(__ARM_ARCH_6M__) */
 237:../libopencm3/lib/usb/usb_dwc_common.c **** 
 238:../libopencm3/lib/usb/usb_dwc_common.c **** 	return len;
 1221              		.loc 1 238 9
 1222 00b8 3B89     		ldrh	r3, [r7, #8]
 1223              	.L34:
 239:../libopencm3/lib/usb/usb_dwc_common.c **** }
 1224              		.loc 1 239 1
 1225 00ba 1846     		mov	r0, r3
 1226 00bc 1C37     		adds	r7, r7, #28
 1227              		.cfi_def_cfa_offset 4
 1228 00be BD46     		mov	sp, r7
 1229              		.cfi_def_cfa_register 13
 1230              		@ sp needed
 1231 00c0 80BC     		pop	{r7}
 1232              		.cfi_restore 7
 1233              		.cfi_def_cfa_offset 0
 1234 00c2 7047     		bx	lr
 1235              		.cfi_endproc
 1236              	.LFE6:
 1238              		.section	.text.dwc_ep_read_packet,"ax",%progbits
 1239              		.align	1
 1240              		.global	dwc_ep_read_packet
 1241              		.syntax unified
 1242              		.thumb
 1243              		.thumb_func
 1244              		.fpu softvfp
 1246              	dwc_ep_read_packet:
 1247              	.LFB7:
 240:../libopencm3/lib/usb/usb_dwc_common.c **** 
 241:../libopencm3/lib/usb/usb_dwc_common.c **** uint16_t dwc_ep_read_packet(usbd_device *usbd_dev, uint8_t addr,
 242:../libopencm3/lib/usb/usb_dwc_common.c **** 				  void *buf, uint16_t len)
 243:../libopencm3/lib/usb/usb_dwc_common.c **** {
 1248              		.loc 1 243 1
 1249              		.cfi_startproc
 1250              		@ args = 0, pretend = 0, frame = 32
 1251              		@ frame_needed = 1, uses_anonymous_args = 0
 1252 0000 80B5     		push	{r7, lr}
 1253              		.cfi_def_cfa_offset 8
 1254              		.cfi_offset 7, -8
 1255              		.cfi_offset 14, -4
 1256 0002 88B0     		sub	sp, sp, #32
 1257              		.cfi_def_cfa_offset 40
 1258 0004 00AF     		add	r7, sp, #0
 1259              		.cfi_def_cfa_register 7
 1260 0006 F860     		str	r0, [r7, #12]
 1261 0008 7A60     		str	r2, [r7, #4]
 1262 000a 1A46     		mov	r2, r3
 1263 000c 0B46     		mov	r3, r1
 1264 000e FB72     		strb	r3, [r7, #11]
 1265 0010 1346     		mov	r3, r2	@ movhi
 1266 0012 3B81     		strh	r3, [r7, #8]	@ movhi
 244:../libopencm3/lib/usb/usb_dwc_common.c **** 	int i;
 245:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint32_t *buf32 = buf;
 1267              		.loc 1 245 12
 1268 0014 7B68     		ldr	r3, [r7, #4]
 1269 0016 BB61     		str	r3, [r7, #24]
 246:../libopencm3/lib/usb/usb_dwc_common.c **** #if defined(__ARM_ARCH_6M__)
 247:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint8_t *buf8 = buf;
 248:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint32_t word32;
 249:../libopencm3/lib/usb/usb_dwc_common.c **** #endif /* defined(__ARM_ARCH_6M__) */
 250:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint32_t extra;
 251:../libopencm3/lib/usb/usb_dwc_common.c **** 
 252:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* We do not need to know the endpoint address since there is only one
 253:../libopencm3/lib/usb/usb_dwc_common.c **** 	 * receive FIFO for all endpoints.
 254:../libopencm3/lib/usb/usb_dwc_common.c **** 	 */
 255:../libopencm3/lib/usb/usb_dwc_common.c **** 	(void) addr;
 256:../libopencm3/lib/usb/usb_dwc_common.c **** 	len = MIN(len, usbd_dev->rxbcnt);
 1270              		.loc 1 256 8
 1271 0018 FB68     		ldr	r3, [r7, #12]
 1272 001a B3F80031 		ldrh	r3, [r3, #256]
 1273              		.loc 1 256 6
 1274 001e 3A89     		ldrh	r2, [r7, #8]
 1275 0020 9342     		cmp	r3, r2
 1276 0022 28BF     		it	cs
 1277 0024 1346     		movcs	r3, r2
 1278 0026 3B81     		strh	r3, [r7, #8]	@ movhi
 257:../libopencm3/lib/usb/usb_dwc_common.c **** 
 258:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* ARMv7M supports non-word-aligned accesses, ARMv6M does not. */
 259:../libopencm3/lib/usb/usb_dwc_common.c **** #if defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 260:../libopencm3/lib/usb/usb_dwc_common.c **** 	for (i = len; i >= 4; i -= 4) {
 1279              		.loc 1 260 9
 1280 0028 3B89     		ldrh	r3, [r7, #8]
 1281 002a FB61     		str	r3, [r7, #28]
 1282              		.loc 1 260 2
 1283 002c 16E0     		b	.L38
 1284              	.L39:
 261:../libopencm3/lib/usb/usb_dwc_common.c **** 		*buf32++ = REBASE(OTG_FIFO(0));
 1285              		.loc 1 261 14 discriminator 3
 1286 002e FB68     		ldr	r3, [r7, #12]
 1287 0030 D3F8DC30 		ldr	r3, [r3, #220]
 1288 0034 DB6A     		ldr	r3, [r3, #44]
 1289 0036 03F58053 		add	r3, r3, #4096
 1290 003a 1946     		mov	r1, r3
 1291              		.loc 1 261 9 discriminator 3
 1292 003c BB69     		ldr	r3, [r7, #24]
 1293 003e 1A1D     		adds	r2, r3, #4
 1294 0040 BA61     		str	r2, [r7, #24]
 1295              		.loc 1 261 14 discriminator 3
 1296 0042 0A68     		ldr	r2, [r1]
 1297              		.loc 1 261 12 discriminator 3
 1298 0044 1A60     		str	r2, [r3]
 262:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->rxbcnt -= 4;
 1299              		.loc 1 262 20 discriminator 3
 1300 0046 FB68     		ldr	r3, [r7, #12]
 1301 0048 B3F80031 		ldrh	r3, [r3, #256]
 1302 004c 043B     		subs	r3, r3, #4
 1303 004e 9AB2     		uxth	r2, r3
 1304 0050 FB68     		ldr	r3, [r7, #12]
 1305 0052 A3F80021 		strh	r2, [r3, #256]	@ movhi
 260:../libopencm3/lib/usb/usb_dwc_common.c **** 		*buf32++ = REBASE(OTG_FIFO(0));
 1306              		.loc 1 260 26 discriminator 3
 1307 0056 FB69     		ldr	r3, [r7, #28]
 1308 0058 043B     		subs	r3, r3, #4
 1309 005a FB61     		str	r3, [r7, #28]
 1310              	.L38:
 260:../libopencm3/lib/usb/usb_dwc_common.c **** 		*buf32++ = REBASE(OTG_FIFO(0));
 1311              		.loc 1 260 2 discriminator 1
 1312 005c FB69     		ldr	r3, [r7, #28]
 1313 005e 032B     		cmp	r3, #3
 1314 0060 E5DC     		bgt	.L39
 263:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 264:../libopencm3/lib/usb/usb_dwc_common.c **** #endif /* defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__) */
 265:../libopencm3/lib/usb/usb_dwc_common.c **** 
 266:../libopencm3/lib/usb/usb_dwc_common.c **** #if defined(__ARM_ARCH_6M__)
 267:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Take care of word-aligned and non-word-aligned buffers */
 268:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (((uint32_t)buf8 & 0x3) == 0) {
 269:../libopencm3/lib/usb/usb_dwc_common.c **** 		for (i = len; i >= 4; i -= 4) {
 270:../libopencm3/lib/usb/usb_dwc_common.c **** 			*buf32++ = REBASE(OTG_FIFO(0));
 271:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->rxbcnt -= 4;
 272:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 273:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 274:../libopencm3/lib/usb/usb_dwc_common.c **** 		for (i = len; i >= 4; i -= 4) {
 275:../libopencm3/lib/usb/usb_dwc_common.c **** 			word32 = REBASE(OTG_FIFO(0));
 276:../libopencm3/lib/usb/usb_dwc_common.c **** 			memcpy(buf8, &word32, 4);
 277:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->rxbcnt -= 4;
 278:../libopencm3/lib/usb/usb_dwc_common.c **** 			buf8 += 4;
 279:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 280:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* buf32 needs to be updated as it is used for extra */
 281:../libopencm3/lib/usb/usb_dwc_common.c **** 		buf32 = (uint32_t *)buf8;
 282:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 283:../libopencm3/lib/usb/usb_dwc_common.c **** #endif /* defined(__ARM_ARCH_6M__) */
 284:../libopencm3/lib/usb/usb_dwc_common.c **** 
 285:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (i) {
 1315              		.loc 1 285 5
 1316 0062 FB69     		ldr	r3, [r7, #28]
 1317 0064 002B     		cmp	r3, #0
 1318 0066 20D0     		beq	.L40
 286:../libopencm3/lib/usb/usb_dwc_common.c **** 		extra = REBASE(OTG_FIFO(0));
 1319              		.loc 1 286 11
 1320 0068 FB68     		ldr	r3, [r7, #12]
 1321 006a D3F8DC30 		ldr	r3, [r3, #220]
 1322 006e DB6A     		ldr	r3, [r3, #44]
 1323 0070 03F58053 		add	r3, r3, #4096
 1324 0074 1B68     		ldr	r3, [r3]
 1325              		.loc 1 286 9
 1326 0076 7B61     		str	r3, [r7, #20]
 287:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* we read 4 bytes from the fifo, so update rxbcnt */
 288:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (usbd_dev->rxbcnt < 4) {
 1327              		.loc 1 288 15
 1328 0078 FB68     		ldr	r3, [r7, #12]
 1329 007a B3F80031 		ldrh	r3, [r3, #256]
 1330              		.loc 1 288 6
 1331 007e 032B     		cmp	r3, #3
 1332 0080 04D8     		bhi	.L41
 289:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* Be careful not to underflow (rxbcnt is unsigned) */
 290:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->rxbcnt = 0;
 1333              		.loc 1 290 21
 1334 0082 FB68     		ldr	r3, [r7, #12]
 1335 0084 0022     		movs	r2, #0
 1336 0086 A3F80021 		strh	r2, [r3, #256]	@ movhi
 1337 008a 07E0     		b	.L42
 1338              	.L41:
 291:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 292:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->rxbcnt -= 4;
 1339              		.loc 1 292 21
 1340 008c FB68     		ldr	r3, [r7, #12]
 1341 008e B3F80031 		ldrh	r3, [r3, #256]
 1342 0092 043B     		subs	r3, r3, #4
 1343 0094 9AB2     		uxth	r2, r3
 1344 0096 FB68     		ldr	r3, [r7, #12]
 1345 0098 A3F80021 		strh	r2, [r3, #256]	@ movhi
 1346              	.L42:
 293:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 294:../libopencm3/lib/usb/usb_dwc_common.c **** 		memcpy(buf32, &extra, i);
 1347              		.loc 1 294 3
 1348 009c FA69     		ldr	r2, [r7, #28]
 1349 009e 07F11403 		add	r3, r7, #20
 1350 00a2 1946     		mov	r1, r3
 1351 00a4 B869     		ldr	r0, [r7, #24]
 1352 00a6 FFF7FEFF 		bl	memcpy(PLT)
 1353              	.L40:
 295:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 296:../libopencm3/lib/usb/usb_dwc_common.c **** 
 297:../libopencm3/lib/usb/usb_dwc_common.c **** 	return len;
 1354              		.loc 1 297 9
 1355 00aa 3B89     		ldrh	r3, [r7, #8]
 298:../libopencm3/lib/usb/usb_dwc_common.c **** }
 1356              		.loc 1 298 1
 1357 00ac 1846     		mov	r0, r3
 1358 00ae 2037     		adds	r7, r7, #32
 1359              		.cfi_def_cfa_offset 8
 1360 00b0 BD46     		mov	sp, r7
 1361              		.cfi_def_cfa_register 13
 1362              		@ sp needed
 1363 00b2 80BD     		pop	{r7, pc}
 1364              		.cfi_endproc
 1365              	.LFE7:
 1367              		.section	.text.dwc_flush_txfifo,"ax",%progbits
 1368              		.align	1
 1369              		.syntax unified
 1370              		.thumb
 1371              		.thumb_func
 1372              		.fpu softvfp
 1374              	dwc_flush_txfifo:
 1375              	.LFB8:
 299:../libopencm3/lib/usb/usb_dwc_common.c **** 
 300:../libopencm3/lib/usb/usb_dwc_common.c **** static void dwc_flush_txfifo(usbd_device *usbd_dev, int ep)
 301:../libopencm3/lib/usb/usb_dwc_common.c **** {
 1376              		.loc 1 301 1
 1377              		.cfi_startproc
 1378              		@ args = 0, pretend = 0, frame = 16
 1379              		@ frame_needed = 1, uses_anonymous_args = 0
 1380              		@ link register save eliminated.
 1381 0000 80B4     		push	{r7}
 1382              		.cfi_def_cfa_offset 4
 1383              		.cfi_offset 7, -4
 1384 0002 85B0     		sub	sp, sp, #20
 1385              		.cfi_def_cfa_offset 24
 1386 0004 00AF     		add	r7, sp, #0
 1387              		.cfi_def_cfa_register 7
 1388 0006 7860     		str	r0, [r7, #4]
 1389 0008 3960     		str	r1, [r7]
 302:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint32_t fifo;
 303:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* set IN endpoint NAK */
 304:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_DIEPCTL(ep)) |= OTG_DIEPCTL0_SNAK;
 1390              		.loc 1 304 26
 1391 000a 3B68     		ldr	r3, [r7]
 1392 000c 4833     		adds	r3, r3, #72
 1393 000e 5B01     		lsls	r3, r3, #5
 1394 0010 1A46     		mov	r2, r3
 1395              		.loc 1 304 2
 1396 0012 7B68     		ldr	r3, [r7, #4]
 1397 0014 D3F8DC30 		ldr	r3, [r3, #220]
 1398 0018 DB6A     		ldr	r3, [r3, #44]
 1399              		.loc 1 304 26
 1400 001a 1344     		add	r3, r3, r2
 1401 001c 1B68     		ldr	r3, [r3]
 1402 001e 3A68     		ldr	r2, [r7]
 1403 0020 4832     		adds	r2, r2, #72
 1404 0022 5201     		lsls	r2, r2, #5
 1405 0024 1146     		mov	r1, r2
 1406              		.loc 1 304 2
 1407 0026 7A68     		ldr	r2, [r7, #4]
 1408 0028 D2F8DC20 		ldr	r2, [r2, #220]
 1409 002c D26A     		ldr	r2, [r2, #44]
 1410              		.loc 1 304 26
 1411 002e 0A44     		add	r2, r2, r1
 1412 0030 43F00063 		orr	r3, r3, #134217728
 1413 0034 1360     		str	r3, [r2]
 305:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* wait for core to respond */
 306:../libopencm3/lib/usb/usb_dwc_common.c **** 	while (!(REBASE(OTG_DIEPINT(ep)) & OTG_DIEPINTX_INEPNE)) {
 1414              		.loc 1 306 8
 1415 0036 00BF     		nop
 1416              	.L45:
 1417              		.loc 1 306 11 discriminator 1
 1418 0038 3B68     		ldr	r3, [r7]
 1419 003a 5B01     		lsls	r3, r3, #5
 1420 003c 1A46     		mov	r2, r3
 1421 003e 7B68     		ldr	r3, [r7, #4]
 1422 0040 D3F8DC30 		ldr	r3, [r3, #220]
 1423 0044 DB6A     		ldr	r3, [r3, #44]
 1424 0046 1344     		add	r3, r3, r2
 1425 0048 03F60813 		addw	r3, r3, #2312
 1426 004c 1B68     		ldr	r3, [r3]
 1427              		.loc 1 306 35 discriminator 1
 1428 004e 03F04003 		and	r3, r3, #64
 1429              		.loc 1 306 8 discriminator 1
 1430 0052 002B     		cmp	r3, #0
 1431 0054 F0D0     		beq	.L45
 307:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* idle */
 308:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 309:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* get fifo for this endpoint */
 310:../libopencm3/lib/usb/usb_dwc_common.c **** 	fifo = (REBASE(OTG_DIEPCTL(ep)) & OTG_DIEPCTL0_TXFNUM_MASK) >> 22;
 1432              		.loc 1 310 10
 1433 0056 3B68     		ldr	r3, [r7]
 1434 0058 4833     		adds	r3, r3, #72
 1435 005a 5B01     		lsls	r3, r3, #5
 1436 005c 1A46     		mov	r2, r3
 1437 005e 7B68     		ldr	r3, [r7, #4]
 1438 0060 D3F8DC30 		ldr	r3, [r3, #220]
 1439 0064 DB6A     		ldr	r3, [r3, #44]
 1440 0066 1344     		add	r3, r3, r2
 1441 0068 1B68     		ldr	r3, [r3]
 1442              		.loc 1 310 62
 1443 006a 9B0D     		lsrs	r3, r3, #22
 1444              		.loc 1 310 7
 1445 006c 03F00F03 		and	r3, r3, #15
 1446 0070 FB60     		str	r3, [r7, #12]
 311:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* wait for core to idle */
 312:../libopencm3/lib/usb/usb_dwc_common.c **** 	while (!(REBASE(OTG_GRSTCTL) & OTG_GRSTCTL_AHBIDL)) {
 1447              		.loc 1 312 8
 1448 0072 00BF     		nop
 1449              	.L46:
 1450              		.loc 1 312 11 discriminator 1
 1451 0074 7B68     		ldr	r3, [r7, #4]
 1452 0076 D3F8DC30 		ldr	r3, [r3, #220]
 1453 007a DB6A     		ldr	r3, [r3, #44]
 1454 007c 1033     		adds	r3, r3, #16
 1455 007e 1B68     		ldr	r3, [r3]
 1456              		.loc 1 312 8 discriminator 1
 1457 0080 002B     		cmp	r3, #0
 1458 0082 F7DA     		bge	.L46
 313:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* idle */
 314:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 315:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* flush tx fifo */
 316:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_GRSTCTL) = (fifo << 6) | OTG_GRSTCTL_TXFFLSH;
 1459              		.loc 1 316 30
 1460 0084 FB68     		ldr	r3, [r7, #12]
 1461 0086 9B01     		lsls	r3, r3, #6
 1462              		.loc 1 316 2
 1463 0088 7A68     		ldr	r2, [r7, #4]
 1464 008a D2F8DC20 		ldr	r2, [r2, #220]
 1465 008e D26A     		ldr	r2, [r2, #44]
 1466 0090 1032     		adds	r2, r2, #16
 1467              		.loc 1 316 36
 1468 0092 43F02003 		orr	r3, r3, #32
 1469              		.loc 1 316 22
 1470 0096 1360     		str	r3, [r2]
 317:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* reset packet counter */
 318:../libopencm3/lib/usb/usb_dwc_common.c **** 	REBASE(OTG_DIEPTSIZ(ep)) = 0;
 1471              		.loc 1 318 2
 1472 0098 3B68     		ldr	r3, [r7]
 1473 009a 5B01     		lsls	r3, r3, #5
 1474 009c 1A46     		mov	r2, r3
 1475 009e 7B68     		ldr	r3, [r7, #4]
 1476 00a0 D3F8DC30 		ldr	r3, [r3, #220]
 1477 00a4 DB6A     		ldr	r3, [r3, #44]
 1478 00a6 1344     		add	r3, r3, r2
 1479 00a8 03F51163 		add	r3, r3, #2320
 1480 00ac 1A46     		mov	r2, r3
 1481              		.loc 1 318 27
 1482 00ae 0023     		movs	r3, #0
 1483 00b0 1360     		str	r3, [r2]
 319:../libopencm3/lib/usb/usb_dwc_common.c **** 	while ((REBASE(OTG_GRSTCTL) & OTG_GRSTCTL_TXFFLSH)) {
 1484              		.loc 1 319 8
 1485 00b2 00BF     		nop
 1486              	.L47:
 1487              		.loc 1 319 10 discriminator 1
 1488 00b4 7B68     		ldr	r3, [r7, #4]
 1489 00b6 D3F8DC30 		ldr	r3, [r3, #220]
 1490 00ba DB6A     		ldr	r3, [r3, #44]
 1491 00bc 1033     		adds	r3, r3, #16
 1492 00be 1B68     		ldr	r3, [r3]
 1493              		.loc 1 319 30 discriminator 1
 1494 00c0 03F02003 		and	r3, r3, #32
 1495              		.loc 1 319 8 discriminator 1
 1496 00c4 002B     		cmp	r3, #0
 1497 00c6 F5D1     		bne	.L47
 320:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* idle */
 321:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 322:../libopencm3/lib/usb/usb_dwc_common.c **** }
 1498              		.loc 1 322 1
 1499 00c8 00BF     		nop
 1500 00ca 1437     		adds	r7, r7, #20
 1501              		.cfi_def_cfa_offset 4
 1502 00cc BD46     		mov	sp, r7
 1503              		.cfi_def_cfa_register 13
 1504              		@ sp needed
 1505 00ce 80BC     		pop	{r7}
 1506              		.cfi_restore 7
 1507              		.cfi_def_cfa_offset 0
 1508 00d0 7047     		bx	lr
 1509              		.cfi_endproc
 1510              	.LFE8:
 1512              		.section	.text.dwc_poll,"ax",%progbits
 1513              		.align	1
 1514              		.global	dwc_poll
 1515              		.syntax unified
 1516              		.thumb
 1517              		.thumb_func
 1518              		.fpu softvfp
 1520              	dwc_poll:
 1521              	.LFB9:
 323:../libopencm3/lib/usb/usb_dwc_common.c **** 
 324:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_poll(usbd_device *usbd_dev)
 325:../libopencm3/lib/usb/usb_dwc_common.c **** {
 1522              		.loc 1 325 1
 1523              		.cfi_startproc
 1524              		@ args = 0, pretend = 0, frame = 32
 1525              		@ frame_needed = 1, uses_anonymous_args = 0
 1526 0000 80B5     		push	{r7, lr}
 1527              		.cfi_def_cfa_offset 8
 1528              		.cfi_offset 7, -8
 1529              		.cfi_offset 14, -4
 1530 0002 88B0     		sub	sp, sp, #32
 1531              		.cfi_def_cfa_offset 40
 1532 0004 00AF     		add	r7, sp, #0
 1533              		.cfi_def_cfa_register 7
 1534 0006 7860     		str	r0, [r7, #4]
 326:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Read interrupt status register. */
 327:../libopencm3/lib/usb/usb_dwc_common.c **** 	uint32_t intsts = REBASE(OTG_GINTSTS);
 1535              		.loc 1 327 20
 1536 0008 7B68     		ldr	r3, [r7, #4]
 1537 000a D3F8DC30 		ldr	r3, [r3, #220]
 1538 000e DB6A     		ldr	r3, [r3, #44]
 1539 0010 1433     		adds	r3, r3, #20
 1540              		.loc 1 327 11
 1541 0012 1B68     		ldr	r3, [r3]
 1542 0014 7B61     		str	r3, [r7, #20]
 328:../libopencm3/lib/usb/usb_dwc_common.c **** 	int i;
 329:../libopencm3/lib/usb/usb_dwc_common.c **** 
 330:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (intsts & OTG_GINTSTS_ENUMDNE) {
 1543              		.loc 1 330 13
 1544 0016 7B69     		ldr	r3, [r7, #20]
 1545 0018 03F40053 		and	r3, r3, #8192
 1546              		.loc 1 330 5
 1547 001c 002B     		cmp	r3, #0
 1548 001e 13D0     		beq	.L49
 331:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* Handle USB RESET condition. */
 332:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GINTSTS) = OTG_GINTSTS_ENUMDNE;
 1549              		.loc 1 332 3
 1550 0020 7B68     		ldr	r3, [r7, #4]
 1551 0022 D3F8DC30 		ldr	r3, [r3, #220]
 1552 0026 DB6A     		ldr	r3, [r3, #44]
 1553 0028 1433     		adds	r3, r3, #20
 1554 002a 1A46     		mov	r2, r3
 1555              		.loc 1 332 23
 1556 002c 4FF40053 		mov	r3, #8192
 1557 0030 1360     		str	r3, [r2]
 333:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->fifo_mem_top = usbd_dev->driver->rx_fifo_size;
 1558              		.loc 1 333 36
 1559 0032 7B68     		ldr	r3, [r7, #4]
 1560 0034 D3F8DC30 		ldr	r3, [r3, #220]
 1561              		.loc 1 333 44
 1562 0038 5A8E     		ldrh	r2, [r3, #50]
 1563              		.loc 1 333 26
 1564 003a 7B68     		ldr	r3, [r7, #4]
 1565 003c A3F8E820 		strh	r2, [r3, #232]	@ movhi
 334:../libopencm3/lib/usb/usb_dwc_common.c **** 		_usbd_reset(usbd_dev);
 1566              		.loc 1 334 3
 1567 0040 7868     		ldr	r0, [r7, #4]
 1568 0042 FFF7FEFF 		bl	_usbd_reset(PLT)
 335:../libopencm3/lib/usb/usb_dwc_common.c **** 		return;
 1569              		.loc 1 335 3
 1570 0046 6EE1     		b	.L48
 1571              	.L49:
 336:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 337:../libopencm3/lib/usb/usb_dwc_common.c **** 
 338:../libopencm3/lib/usb/usb_dwc_common.c **** 	/*
 339:../libopencm3/lib/usb/usb_dwc_common.c **** 	 * There is no global interrupt flag for transmit complete.
 340:../libopencm3/lib/usb/usb_dwc_common.c **** 	 * The XFRC bit must be checked in each OTG_DIEPINT(x).
 341:../libopencm3/lib/usb/usb_dwc_common.c **** 	 */
 342:../libopencm3/lib/usb/usb_dwc_common.c **** 	for (i = 0; i < 4; i++) { /* Iterate over endpoints. */
 1572              		.loc 1 342 9
 1573 0048 0023     		movs	r3, #0
 1574 004a FB61     		str	r3, [r7, #28]
 1575              		.loc 1 342 2
 1576 004c 37E0     		b	.L51
 1577              	.L54:
 343:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DIEPINT(i)) & OTG_DIEPINTX_XFRC) {
 1578              		.loc 1 343 7
 1579 004e FB69     		ldr	r3, [r7, #28]
 1580 0050 5B01     		lsls	r3, r3, #5
 1581 0052 1A46     		mov	r2, r3
 1582 0054 7B68     		ldr	r3, [r7, #4]
 1583 0056 D3F8DC30 		ldr	r3, [r3, #220]
 1584 005a DB6A     		ldr	r3, [r3, #44]
 1585 005c 1344     		add	r3, r3, r2
 1586 005e 03F60813 		addw	r3, r3, #2312
 1587 0062 1B68     		ldr	r3, [r3]
 1588              		.loc 1 343 30
 1589 0064 03F00103 		and	r3, r3, #1
 1590              		.loc 1 343 6
 1591 0068 002B     		cmp	r3, #0
 1592 006a 25D0     		beq	.L52
 344:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* Transfer complete. */
 345:../libopencm3/lib/usb/usb_dwc_common.c **** 			if (usbd_dev->user_callback_ctr[i]
 346:../libopencm3/lib/usb/usb_dwc_common.c **** 						       [USB_TRANSACTION_IN]) {
 1593              		.loc 1 346 14
 1594 006c 7968     		ldr	r1, [r7, #4]
 1595 006e FA69     		ldr	r2, [r7, #28]
 1596 0070 1346     		mov	r3, r2
 1597 0072 5B00     		lsls	r3, r3, #1
 1598 0074 1344     		add	r3, r3, r2
 1599 0076 9B00     		lsls	r3, r3, #2
 1600 0078 0B44     		add	r3, r3, r1
 1601 007a 6833     		adds	r3, r3, #104
 1602 007c 1B68     		ldr	r3, [r3]
 345:../libopencm3/lib/usb/usb_dwc_common.c **** 						       [USB_TRANSACTION_IN]) {
 1603              		.loc 1 345 7
 1604 007e 002B     		cmp	r3, #0
 1605 0080 0DD0     		beq	.L53
 347:../libopencm3/lib/usb/usb_dwc_common.c **** 				usbd_dev->user_callback_ctr[i]
 348:../libopencm3/lib/usb/usb_dwc_common.c **** 					[USB_TRANSACTION_IN](usbd_dev, i);
 1606              		.loc 1 348 6
 1607 0082 7968     		ldr	r1, [r7, #4]
 1608 0084 FA69     		ldr	r2, [r7, #28]
 1609 0086 1346     		mov	r3, r2
 1610 0088 5B00     		lsls	r3, r3, #1
 1611 008a 1344     		add	r3, r3, r2
 1612 008c 9B00     		lsls	r3, r3, #2
 1613 008e 0B44     		add	r3, r3, r1
 1614 0090 6833     		adds	r3, r3, #104
 1615 0092 1B68     		ldr	r3, [r3]
 347:../libopencm3/lib/usb/usb_dwc_common.c **** 				usbd_dev->user_callback_ctr[i]
 1616              		.loc 1 347 5
 1617 0094 FA69     		ldr	r2, [r7, #28]
 1618 0096 D2B2     		uxtb	r2, r2
 1619 0098 1146     		mov	r1, r2
 1620 009a 7868     		ldr	r0, [r7, #4]
 1621 009c 9847     		blx	r3
 1622              	.LVL0:
 1623              	.L53:
 349:../libopencm3/lib/usb/usb_dwc_common.c **** 			}
 350:../libopencm3/lib/usb/usb_dwc_common.c **** 
 351:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DIEPINT(i)) = OTG_DIEPINTX_XFRC;
 1624              		.loc 1 351 4
 1625 009e FB69     		ldr	r3, [r7, #28]
 1626 00a0 5B01     		lsls	r3, r3, #5
 1627 00a2 1A46     		mov	r2, r3
 1628 00a4 7B68     		ldr	r3, [r7, #4]
 1629 00a6 D3F8DC30 		ldr	r3, [r3, #220]
 1630 00aa DB6A     		ldr	r3, [r3, #44]
 1631 00ac 1344     		add	r3, r3, r2
 1632 00ae 03F60813 		addw	r3, r3, #2312
 1633 00b2 1A46     		mov	r2, r3
 1634              		.loc 1 351 27
 1635 00b4 0123     		movs	r3, #1
 1636 00b6 1360     		str	r3, [r2]
 1637              	.L52:
 342:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DIEPINT(i)) & OTG_DIEPINTX_XFRC) {
 1638              		.loc 1 342 22 discriminator 2
 1639 00b8 FB69     		ldr	r3, [r7, #28]
 1640 00ba 0133     		adds	r3, r3, #1
 1641 00bc FB61     		str	r3, [r7, #28]
 1642              	.L51:
 342:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (REBASE(OTG_DIEPINT(i)) & OTG_DIEPINTX_XFRC) {
 1643              		.loc 1 342 2 discriminator 1
 1644 00be FB69     		ldr	r3, [r7, #28]
 1645 00c0 032B     		cmp	r3, #3
 1646 00c2 C4DD     		ble	.L54
 352:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 353:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 354:../libopencm3/lib/usb/usb_dwc_common.c **** 
 355:../libopencm3/lib/usb/usb_dwc_common.c **** 	/* Note: RX and TX handled differently in this device. */
 356:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (intsts & OTG_GINTSTS_RXFLVL) {
 1647              		.loc 1 356 13
 1648 00c4 7B69     		ldr	r3, [r7, #20]
 1649 00c6 03F01003 		and	r3, r3, #16
 1650              		.loc 1 356 5
 1651 00ca 002B     		cmp	r3, #0
 1652 00cc 00F0CC80 		beq	.L55
 1653              	.LBB2:
 357:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* Receive FIFO non-empty. */
 358:../libopencm3/lib/usb/usb_dwc_common.c **** 		uint32_t rxstsp = REBASE(OTG_GRXSTSP);
 1654              		.loc 1 358 21
 1655 00d0 7B68     		ldr	r3, [r7, #4]
 1656 00d2 D3F8DC30 		ldr	r3, [r3, #220]
 1657 00d6 DB6A     		ldr	r3, [r3, #44]
 1658 00d8 2033     		adds	r3, r3, #32
 1659              		.loc 1 358 12
 1660 00da 1B68     		ldr	r3, [r3]
 1661 00dc 3B61     		str	r3, [r7, #16]
 359:../libopencm3/lib/usb/usb_dwc_common.c **** 		uint32_t pktsts = rxstsp & OTG_GRXSTSP_PKTSTS_MASK;
 1662              		.loc 1 359 12
 1663 00de 3B69     		ldr	r3, [r7, #16]
 1664 00e0 03F4F013 		and	r3, r3, #1966080
 1665 00e4 FB60     		str	r3, [r7, #12]
 360:../libopencm3/lib/usb/usb_dwc_common.c **** 		uint8_t ep = rxstsp & OTG_GRXSTSP_EPNUM_MASK;
 1666              		.loc 1 360 23
 1667 00e6 3B69     		ldr	r3, [r7, #16]
 1668 00e8 DBB2     		uxtb	r3, r3
 1669              		.loc 1 360 11
 1670 00ea 03F00F03 		and	r3, r3, #15
 1671 00ee FB72     		strb	r3, [r7, #11]
 361:../libopencm3/lib/usb/usb_dwc_common.c **** 
 362:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (pktsts == OTG_GRXSTSP_PKTSTS_SETUP_COMP) {
 1672              		.loc 1 362 6
 1673 00f0 FB68     		ldr	r3, [r7, #12]
 1674 00f2 B3F5002F 		cmp	r3, #524288
 1675 00f6 0CD1     		bne	.L56
 363:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_ctr[ep][USB_TRANSACTION_SETUP] (usbd_dev, ep);
 1676              		.loc 1 363 35
 1677 00f8 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1678 00fa 7968     		ldr	r1, [r7, #4]
 1679 00fc 1346     		mov	r3, r2
 1680 00fe 5B00     		lsls	r3, r3, #1
 1681 0100 1344     		add	r3, r3, r2
 1682 0102 9B00     		lsls	r3, r3, #2
 1683 0104 0B44     		add	r3, r3, r1
 1684 0106 7033     		adds	r3, r3, #112
 1685 0108 1B68     		ldr	r3, [r3]
 1686              		.loc 1 363 4
 1687 010a FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1688 010c 1146     		mov	r1, r2
 1689 010e 7868     		ldr	r0, [r7, #4]
 1690 0110 9847     		blx	r3
 1691              	.LVL1:
 1692              	.L56:
 364:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 365:../libopencm3/lib/usb/usb_dwc_common.c **** 
 366:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (pktsts == OTG_GRXSTSP_PKTSTS_OUT_COMP
 1693              		.loc 1 366 6
 1694 0112 FB68     		ldr	r3, [r7, #12]
 1695 0114 B3F5C02F 		cmp	r3, #393216
 1696 0118 03D0     		beq	.L57
 367:../libopencm3/lib/usb/usb_dwc_common.c **** 			|| pktsts == OTG_GRXSTSP_PKTSTS_SETUP_COMP)  {
 1697              		.loc 1 367 4
 1698 011a FB68     		ldr	r3, [r7, #12]
 1699 011c B3F5002F 		cmp	r3, #524288
 1700 0120 32D1     		bne	.L58
 1701              	.L57:
 368:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPTSIZ(ep)) = usbd_dev->doeptsiz[ep];
 1702              		.loc 1 368 49
 1703 0122 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1704              		.loc 1 368 4
 1705 0124 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1706 0126 5B01     		lsls	r3, r3, #5
 1707 0128 1946     		mov	r1, r3
 1708 012a 7B68     		ldr	r3, [r7, #4]
 1709 012c D3F8DC30 		ldr	r3, [r3, #220]
 1710 0130 DB6A     		ldr	r3, [r3, #44]
 1711 0132 0B44     		add	r3, r3, r1
 1712 0134 03F53163 		add	r3, r3, #2832
 1713 0138 1946     		mov	r1, r3
 1714              		.loc 1 368 49
 1715 013a 7B68     		ldr	r3, [r7, #4]
 1716 013c 3C32     		adds	r2, r2, #60
 1717 013e 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1718              		.loc 1 368 29
 1719 0142 0B60     		str	r3, [r1]
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1720              		.loc 1 369 28
 1721 0144 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1722 0146 5833     		adds	r3, r3, #88
 1723 0148 5B01     		lsls	r3, r3, #5
 1724 014a 1A46     		mov	r2, r3
 1725              		.loc 1 369 4
 1726 014c 7B68     		ldr	r3, [r7, #4]
 1727 014e D3F8DC30 		ldr	r3, [r3, #220]
 1728 0152 DB6A     		ldr	r3, [r3, #44]
 1729              		.loc 1 369 28
 1730 0154 1344     		add	r3, r3, r2
 1731 0156 1B68     		ldr	r3, [r3]
 370:../libopencm3/lib/usb/usb_dwc_common.c **** 				(usbd_dev->force_nak[ep] ?
 1732              		.loc 1 370 25
 1733 0158 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1734 015a 7968     		ldr	r1, [r7, #4]
 1735 015c 0A44     		add	r2, r2, r1
 1736 015e 92F8EC20 		ldrb	r2, [r2, #236]	@ zero_extendqisi2
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1737              		.loc 1 369 50
 1738 0162 002A     		cmp	r2, #0
 1739 0164 02D0     		beq	.L59
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1740              		.loc 1 369 50 is_stmt 0 discriminator 1
 1741 0166 4FF00842 		mov	r2, #-2013265920
 1742 016a 01E0     		b	.L60
 1743              	.L59:
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1744              		.loc 1 369 50 discriminator 2
 1745 016c 4FF00442 		mov	r2, #-2080374784
 1746              	.L60:
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1747              		.loc 1 369 28 is_stmt 1 discriminator 4
 1748 0170 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 1749 0172 5831     		adds	r1, r1, #88
 1750 0174 4901     		lsls	r1, r1, #5
 1751 0176 0846     		mov	r0, r1
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1752              		.loc 1 369 4 discriminator 4
 1753 0178 7968     		ldr	r1, [r7, #4]
 1754 017a D1F8DC10 		ldr	r1, [r1, #220]
 1755 017e C96A     		ldr	r1, [r1, #44]
 369:../libopencm3/lib/usb/usb_dwc_common.c **** 			REBASE(OTG_DOEPCTL(ep)) |= OTG_DOEPCTL0_EPENA |
 1756              		.loc 1 369 28 discriminator 4
 1757 0180 0144     		add	r1, r1, r0
 1758 0182 1343     		orrs	r3, r3, r2
 1759 0184 0B60     		str	r3, [r1]
 371:../libopencm3/lib/usb/usb_dwc_common.c **** 				 OTG_DOEPCTL0_SNAK : OTG_DOEPCTL0_CNAK);
 372:../libopencm3/lib/usb/usb_dwc_common.c **** 			return;
 1760              		.loc 1 372 4 discriminator 4
 1761 0186 CEE0     		b	.L48
 1762              	.L58:
 373:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 374:../libopencm3/lib/usb/usb_dwc_common.c **** 
 375:../libopencm3/lib/usb/usb_dwc_common.c **** 		if ((pktsts != OTG_GRXSTSP_PKTSTS_OUT) &&
 1763              		.loc 1 375 6
 1764 0188 FB68     		ldr	r3, [r7, #12]
 1765 018a B3F5802F 		cmp	r3, #262144
 1766 018e 04D0     		beq	.L61
 1767              		.loc 1 375 42 discriminator 1
 1768 0190 FB68     		ldr	r3, [r7, #12]
 1769 0192 B3F5402F 		cmp	r3, #786432
 1770 0196 40F0C580 		bne	.L76
 1771              	.L61:
 376:../libopencm3/lib/usb/usb_dwc_common.c **** 		    (pktsts != OTG_GRXSTSP_PKTSTS_SETUP)) {
 377:../libopencm3/lib/usb/usb_dwc_common.c **** 			return;
 378:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 379:../libopencm3/lib/usb/usb_dwc_common.c **** 
 380:../libopencm3/lib/usb/usb_dwc_common.c **** 		uint8_t type;
 381:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (pktsts == OTG_GRXSTSP_PKTSTS_SETUP) {
 1772              		.loc 1 381 6
 1773 019a FB68     		ldr	r3, [r7, #12]
 1774 019c B3F5402F 		cmp	r3, #786432
 1775 01a0 02D1     		bne	.L62
 382:../libopencm3/lib/usb/usb_dwc_common.c **** 			type = USB_TRANSACTION_SETUP;
 1776              		.loc 1 382 9
 1777 01a2 0223     		movs	r3, #2
 1778 01a4 FB76     		strb	r3, [r7, #27]
 1779 01a6 01E0     		b	.L63
 1780              	.L62:
 383:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else {
 384:../libopencm3/lib/usb/usb_dwc_common.c **** 			type = USB_TRANSACTION_OUT;
 1781              		.loc 1 384 9
 1782 01a8 0123     		movs	r3, #1
 1783 01aa FB76     		strb	r3, [r7, #27]
 1784              	.L63:
 385:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 386:../libopencm3/lib/usb/usb_dwc_common.c **** 
 387:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (type == USB_TRANSACTION_SETUP
 1785              		.loc 1 387 6
 1786 01ac FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 1787 01ae 022B     		cmp	r3, #2
 1788 01b0 13D1     		bne	.L64
 388:../libopencm3/lib/usb/usb_dwc_common.c **** 			&& (REBASE(OTG_DIEPTSIZ(ep)) & OTG_DIEPSIZ0_PKTCNT)) {
 1789              		.loc 1 388 8
 1790 01b2 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1791 01b4 5B01     		lsls	r3, r3, #5
 1792 01b6 1A46     		mov	r2, r3
 1793 01b8 7B68     		ldr	r3, [r7, #4]
 1794 01ba D3F8DC30 		ldr	r3, [r3, #220]
 1795 01be DB6A     		ldr	r3, [r3, #44]
 1796 01c0 1344     		add	r3, r3, r2
 1797 01c2 03F51163 		add	r3, r3, #2320
 1798 01c6 1B68     		ldr	r3, [r3]
 1799              		.loc 1 388 33
 1800 01c8 03F40023 		and	r3, r3, #524288
 1801              		.loc 1 388 4
 1802 01cc 002B     		cmp	r3, #0
 1803 01ce 04D0     		beq	.L64
 389:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* SETUP received but there is still something stuck
 390:../libopencm3/lib/usb/usb_dwc_common.c **** 			 * in the transmit fifo.  Flush it.
 391:../libopencm3/lib/usb/usb_dwc_common.c **** 			 */
 392:../libopencm3/lib/usb/usb_dwc_common.c **** 			dwc_flush_txfifo(usbd_dev, ep);
 1804              		.loc 1 392 4
 1805 01d0 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1806 01d2 1946     		mov	r1, r3
 1807 01d4 7868     		ldr	r0, [r7, #4]
 1808 01d6 FFF7FEFF 		bl	dwc_flush_txfifo(PLT)
 1809              	.L64:
 393:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 394:../libopencm3/lib/usb/usb_dwc_common.c **** 
 395:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* Save packet size for dwc_ep_read_packet(). */
 396:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->rxbcnt = (rxstsp & OTG_GRXSTSP_BCNT_MASK) >> 4;
 1810              		.loc 1 396 55
 1811 01da 3B69     		ldr	r3, [r7, #16]
 1812 01dc 1B09     		lsrs	r3, r3, #4
 1813 01de 9BB2     		uxth	r3, r3
 1814 01e0 C3F30A03 		ubfx	r3, r3, #0, #11
 1815 01e4 9AB2     		uxth	r2, r3
 1816              		.loc 1 396 20
 1817 01e6 7B68     		ldr	r3, [r7, #4]
 1818 01e8 A3F80021 		strh	r2, [r3, #256]	@ movhi
 397:../libopencm3/lib/usb/usb_dwc_common.c **** 
 398:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (type == USB_TRANSACTION_SETUP) {
 1819              		.loc 1 398 6
 1820 01ec FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 1821 01ee 022B     		cmp	r3, #2
 1822 01f0 08D1     		bne	.L65
 399:../libopencm3/lib/usb/usb_dwc_common.c **** 			dwc_ep_read_packet(usbd_dev, ep, &usbd_dev->control_state.req, 8);
 1823              		.loc 1 399 37
 1824 01f2 7B68     		ldr	r3, [r7, #4]
 1825 01f4 03F13002 		add	r2, r3, #48
 1826              		.loc 1 399 4
 1827 01f8 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 1828 01fa 0823     		movs	r3, #8
 1829 01fc 7868     		ldr	r0, [r7, #4]
 1830 01fe FFF7FEFF 		bl	dwc_ep_read_packet(PLT)
 1831 0202 19E0     		b	.L66
 1832              	.L65:
 400:../libopencm3/lib/usb/usb_dwc_common.c **** 		} else if (usbd_dev->user_callback_ctr[ep][type]) {
 1833              		.loc 1 400 45
 1834 0204 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1835 0206 F87E     		ldrb	r0, [r7, #27]	@ zero_extendqisi2
 1836 0208 7968     		ldr	r1, [r7, #4]
 1837 020a 1346     		mov	r3, r2
 1838 020c 5B00     		lsls	r3, r3, #1
 1839 020e 1344     		add	r3, r3, r2
 1840 0210 0344     		add	r3, r3, r0
 1841 0212 1A33     		adds	r3, r3, #26
 1842 0214 51F82330 		ldr	r3, [r1, r3, lsl #2]
 1843              		.loc 1 400 13
 1844 0218 002B     		cmp	r3, #0
 1845 021a 0DD0     		beq	.L66
 401:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_ctr[ep][type] (usbd_dev, ep);
 1846              		.loc 1 401 35
 1847 021c FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1848 021e F87E     		ldrb	r0, [r7, #27]	@ zero_extendqisi2
 1849 0220 7968     		ldr	r1, [r7, #4]
 1850 0222 1346     		mov	r3, r2
 1851 0224 5B00     		lsls	r3, r3, #1
 1852 0226 1344     		add	r3, r3, r2
 1853 0228 0344     		add	r3, r3, r0
 1854 022a 1A33     		adds	r3, r3, #26
 1855 022c 51F82330 		ldr	r3, [r1, r3, lsl #2]
 1856              		.loc 1 401 4
 1857 0230 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1858 0232 1146     		mov	r1, r2
 1859 0234 7868     		ldr	r0, [r7, #4]
 1860 0236 9847     		blx	r3
 1861              	.LVL2:
 1862              	.L66:
 402:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 403:../libopencm3/lib/usb/usb_dwc_common.c **** 
 404:../libopencm3/lib/usb/usb_dwc_common.c **** 		/* Discard unread packet data. */
 405:../libopencm3/lib/usb/usb_dwc_common.c **** 		for (i = 0; i < usbd_dev->rxbcnt; i += 4) {
 1863              		.loc 1 405 10
 1864 0238 0023     		movs	r3, #0
 1865 023a FB61     		str	r3, [r7, #28]
 1866              		.loc 1 405 3
 1867 023c 09E0     		b	.L67
 1868              	.L68:
 406:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* There is only one receive FIFO, so use OTG_FIFO(0) */
 407:../libopencm3/lib/usb/usb_dwc_common.c **** 			(void)REBASE(OTG_FIFO(0));
 1869              		.loc 1 407 10 discriminator 3
 1870 023e 7B68     		ldr	r3, [r7, #4]
 1871 0240 D3F8DC30 		ldr	r3, [r3, #220]
 1872 0244 DB6A     		ldr	r3, [r3, #44]
 1873 0246 03F58053 		add	r3, r3, #4096
 1874              		.loc 1 407 4 discriminator 3
 1875 024a 1B68     		ldr	r3, [r3]
 405:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* There is only one receive FIFO, so use OTG_FIFO(0) */
 1876              		.loc 1 405 39 discriminator 3
 1877 024c FB69     		ldr	r3, [r7, #28]
 1878 024e 0433     		adds	r3, r3, #4
 1879 0250 FB61     		str	r3, [r7, #28]
 1880              	.L67:
 405:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* There is only one receive FIFO, so use OTG_FIFO(0) */
 1881              		.loc 1 405 27 discriminator 1
 1882 0252 7B68     		ldr	r3, [r7, #4]
 1883 0254 B3F80031 		ldrh	r3, [r3, #256]
 1884 0258 1A46     		mov	r2, r3
 405:../libopencm3/lib/usb/usb_dwc_common.c **** 			/* There is only one receive FIFO, so use OTG_FIFO(0) */
 1885              		.loc 1 405 3 discriminator 1
 1886 025a FB69     		ldr	r3, [r7, #28]
 1887 025c 9342     		cmp	r3, r2
 1888 025e EEDB     		blt	.L68
 408:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 409:../libopencm3/lib/usb/usb_dwc_common.c **** 
 410:../libopencm3/lib/usb/usb_dwc_common.c **** 		usbd_dev->rxbcnt = 0;
 1889              		.loc 1 410 20
 1890 0260 7B68     		ldr	r3, [r7, #4]
 1891 0262 0022     		movs	r2, #0
 1892 0264 A3F80021 		strh	r2, [r3, #256]	@ movhi
 1893              	.L55:
 1894              	.LBE2:
 411:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 412:../libopencm3/lib/usb/usb_dwc_common.c **** 
 413:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (intsts & OTG_GINTSTS_USBSUSP) {
 1895              		.loc 1 413 13
 1896 0268 7B69     		ldr	r3, [r7, #20]
 1897 026a 03F40063 		and	r3, r3, #2048
 1898              		.loc 1 413 5
 1899 026e 002B     		cmp	r3, #0
 1900 0270 0FD0     		beq	.L69
 414:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (usbd_dev->user_callback_suspend) {
 1901              		.loc 1 414 15
 1902 0272 7B68     		ldr	r3, [r7, #4]
 1903 0274 1B6A     		ldr	r3, [r3, #32]
 1904              		.loc 1 414 6
 1905 0276 002B     		cmp	r3, #0
 1906 0278 02D0     		beq	.L70
 415:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_suspend();
 1907              		.loc 1 415 12
 1908 027a 7B68     		ldr	r3, [r7, #4]
 1909 027c 1B6A     		ldr	r3, [r3, #32]
 1910              		.loc 1 415 4
 1911 027e 9847     		blx	r3
 1912              	.LVL3:
 1913              	.L70:
 416:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 417:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GINTSTS) = OTG_GINTSTS_USBSUSP;
 1914              		.loc 1 417 3
 1915 0280 7B68     		ldr	r3, [r7, #4]
 1916 0282 D3F8DC30 		ldr	r3, [r3, #220]
 1917 0286 DB6A     		ldr	r3, [r3, #44]
 1918 0288 1433     		adds	r3, r3, #20
 1919 028a 1A46     		mov	r2, r3
 1920              		.loc 1 417 23
 1921 028c 4FF40063 		mov	r3, #2048
 1922 0290 1360     		str	r3, [r2]
 1923              	.L69:
 418:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 419:../libopencm3/lib/usb/usb_dwc_common.c **** 
 420:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (intsts & OTG_GINTSTS_WKUPINT) {
 1924              		.loc 1 420 6
 1925 0292 7B69     		ldr	r3, [r7, #20]
 1926              		.loc 1 420 5
 1927 0294 002B     		cmp	r3, #0
 1928 0296 0FDA     		bge	.L71
 421:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (usbd_dev->user_callback_resume) {
 1929              		.loc 1 421 15
 1930 0298 7B68     		ldr	r3, [r7, #4]
 1931 029a 5B6A     		ldr	r3, [r3, #36]
 1932              		.loc 1 421 6
 1933 029c 002B     		cmp	r3, #0
 1934 029e 02D0     		beq	.L72
 422:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_resume();
 1935              		.loc 1 422 12
 1936 02a0 7B68     		ldr	r3, [r7, #4]
 1937 02a2 5B6A     		ldr	r3, [r3, #36]
 1938              		.loc 1 422 4
 1939 02a4 9847     		blx	r3
 1940              	.LVL4:
 1941              	.L72:
 423:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 424:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GINTSTS) = OTG_GINTSTS_WKUPINT;
 1942              		.loc 1 424 3
 1943 02a6 7B68     		ldr	r3, [r7, #4]
 1944 02a8 D3F8DC30 		ldr	r3, [r3, #220]
 1945 02ac DB6A     		ldr	r3, [r3, #44]
 1946 02ae 1433     		adds	r3, r3, #20
 1947 02b0 1A46     		mov	r2, r3
 1948              		.loc 1 424 23
 1949 02b2 4FF00043 		mov	r3, #-2147483648
 1950 02b6 1360     		str	r3, [r2]
 1951              	.L71:
 425:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 426:../libopencm3/lib/usb/usb_dwc_common.c **** 
 427:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (intsts & OTG_GINTSTS_SOF) {
 1952              		.loc 1 427 13
 1953 02b8 7B69     		ldr	r3, [r7, #20]
 1954 02ba 03F00803 		and	r3, r3, #8
 1955              		.loc 1 427 5
 1956 02be 002B     		cmp	r3, #0
 1957 02c0 0ED0     		beq	.L73
 428:../libopencm3/lib/usb/usb_dwc_common.c **** 		if (usbd_dev->user_callback_sof) {
 1958              		.loc 1 428 15
 1959 02c2 7B68     		ldr	r3, [r7, #4]
 1960 02c4 9B6A     		ldr	r3, [r3, #40]
 1961              		.loc 1 428 6
 1962 02c6 002B     		cmp	r3, #0
 1963 02c8 02D0     		beq	.L74
 429:../libopencm3/lib/usb/usb_dwc_common.c **** 			usbd_dev->user_callback_sof();
 1964              		.loc 1 429 12
 1965 02ca 7B68     		ldr	r3, [r7, #4]
 1966 02cc 9B6A     		ldr	r3, [r3, #40]
 1967              		.loc 1 429 4
 1968 02ce 9847     		blx	r3
 1969              	.LVL5:
 1970              	.L74:
 430:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 431:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GINTSTS) = OTG_GINTSTS_SOF;
 1971              		.loc 1 431 3
 1972 02d0 7B68     		ldr	r3, [r7, #4]
 1973 02d2 D3F8DC30 		ldr	r3, [r3, #220]
 1974 02d6 DB6A     		ldr	r3, [r3, #44]
 1975 02d8 1433     		adds	r3, r3, #20
 1976 02da 1A46     		mov	r2, r3
 1977              		.loc 1 431 23
 1978 02dc 0823     		movs	r3, #8
 1979 02de 1360     		str	r3, [r2]
 1980              	.L73:
 432:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 433:../libopencm3/lib/usb/usb_dwc_common.c **** 
 434:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (usbd_dev->user_callback_sof) {
 1981              		.loc 1 434 14
 1982 02e0 7B68     		ldr	r3, [r7, #4]
 1983 02e2 9B6A     		ldr	r3, [r3, #40]
 1984              		.loc 1 434 5
 1985 02e4 002B     		cmp	r3, #0
 1986 02e6 0ED0     		beq	.L75
 435:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GINTMSK) |= OTG_GINTMSK_SOFM;
 1987              		.loc 1 435 3
 1988 02e8 7B68     		ldr	r3, [r7, #4]
 1989 02ea D3F8DC30 		ldr	r3, [r3, #220]
 1990 02ee DB6A     		ldr	r3, [r3, #44]
 1991 02f0 1833     		adds	r3, r3, #24
 1992              		.loc 1 435 23
 1993 02f2 1B68     		ldr	r3, [r3]
 1994              		.loc 1 435 3
 1995 02f4 7A68     		ldr	r2, [r7, #4]
 1996 02f6 D2F8DC20 		ldr	r2, [r2, #220]
 1997 02fa D26A     		ldr	r2, [r2, #44]
 1998 02fc 1832     		adds	r2, r2, #24
 1999              		.loc 1 435 23
 2000 02fe 43F00803 		orr	r3, r3, #8
 2001 0302 1360     		str	r3, [r2]
 2002 0304 0FE0     		b	.L48
 2003              	.L75:
 436:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 437:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_GINTMSK) &= ~OTG_GINTMSK_SOFM;
 2004              		.loc 1 437 3
 2005 0306 7B68     		ldr	r3, [r7, #4]
 2006 0308 D3F8DC30 		ldr	r3, [r3, #220]
 2007 030c DB6A     		ldr	r3, [r3, #44]
 2008 030e 1833     		adds	r3, r3, #24
 2009              		.loc 1 437 23
 2010 0310 1B68     		ldr	r3, [r3]
 2011              		.loc 1 437 3
 2012 0312 7A68     		ldr	r2, [r7, #4]
 2013 0314 D2F8DC20 		ldr	r2, [r2, #220]
 2014 0318 D26A     		ldr	r2, [r2, #44]
 2015 031a 1832     		adds	r2, r2, #24
 2016              		.loc 1 437 23
 2017 031c 23F00803 		bic	r3, r3, #8
 2018 0320 1360     		str	r3, [r2]
 2019 0322 00E0     		b	.L48
 2020              	.L76:
 2021              	.LBB3:
 377:../libopencm3/lib/usb/usb_dwc_common.c **** 		}
 2022              		.loc 1 377 4
 2023 0324 00BF     		nop
 2024              	.L48:
 2025              	.LBE3:
 438:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 439:../libopencm3/lib/usb/usb_dwc_common.c **** }
 2026              		.loc 1 439 1
 2027 0326 2037     		adds	r7, r7, #32
 2028              		.cfi_def_cfa_offset 8
 2029 0328 BD46     		mov	sp, r7
 2030              		.cfi_def_cfa_register 13
 2031              		@ sp needed
 2032 032a 80BD     		pop	{r7, pc}
 2033              		.cfi_endproc
 2034              	.LFE9:
 2036              		.section	.text.dwc_disconnect,"ax",%progbits
 2037              		.align	1
 2038              		.global	dwc_disconnect
 2039              		.syntax unified
 2040              		.thumb
 2041              		.thumb_func
 2042              		.fpu softvfp
 2044              	dwc_disconnect:
 2045              	.LFB10:
 440:../libopencm3/lib/usb/usb_dwc_common.c **** 
 441:../libopencm3/lib/usb/usb_dwc_common.c **** void dwc_disconnect(usbd_device *usbd_dev, bool disconnected)
 442:../libopencm3/lib/usb/usb_dwc_common.c **** {
 2046              		.loc 1 442 1
 2047              		.cfi_startproc
 2048              		@ args = 0, pretend = 0, frame = 8
 2049              		@ frame_needed = 1, uses_anonymous_args = 0
 2050              		@ link register save eliminated.
 2051 0000 80B4     		push	{r7}
 2052              		.cfi_def_cfa_offset 4
 2053              		.cfi_offset 7, -4
 2054 0002 83B0     		sub	sp, sp, #12
 2055              		.cfi_def_cfa_offset 16
 2056 0004 00AF     		add	r7, sp, #0
 2057              		.cfi_def_cfa_register 7
 2058 0006 7860     		str	r0, [r7, #4]
 2059 0008 0B46     		mov	r3, r1
 2060 000a FB70     		strb	r3, [r7, #3]
 443:../libopencm3/lib/usb/usb_dwc_common.c **** 	if (disconnected) {
 2061              		.loc 1 443 5
 2062 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2063 000e 002B     		cmp	r3, #0
 2064 0010 10D0     		beq	.L78
 444:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DCTL) |= OTG_DCTL_SDIS;
 2065              		.loc 1 444 3
 2066 0012 7B68     		ldr	r3, [r7, #4]
 2067 0014 D3F8DC30 		ldr	r3, [r3, #220]
 2068 0018 DB6A     		ldr	r3, [r3, #44]
 2069 001a 03F60403 		addw	r3, r3, #2052
 2070              		.loc 1 444 20
 2071 001e 1B68     		ldr	r3, [r3]
 2072              		.loc 1 444 3
 2073 0020 7A68     		ldr	r2, [r7, #4]
 2074 0022 D2F8DC20 		ldr	r2, [r2, #220]
 2075 0026 D26A     		ldr	r2, [r2, #44]
 2076 0028 02F60402 		addw	r2, r2, #2052
 2077              		.loc 1 444 20
 2078 002c 43F00203 		orr	r3, r3, #2
 2079 0030 1360     		str	r3, [r2]
 445:../libopencm3/lib/usb/usb_dwc_common.c **** 	} else {
 446:../libopencm3/lib/usb/usb_dwc_common.c **** 		REBASE(OTG_DCTL) &= ~OTG_DCTL_SDIS;
 447:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 448:../libopencm3/lib/usb/usb_dwc_common.c **** }
 2080              		.loc 1 448 1
 2081 0032 0FE0     		b	.L80
 2082              	.L78:
 446:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 2083              		.loc 1 446 3
 2084 0034 7B68     		ldr	r3, [r7, #4]
 2085 0036 D3F8DC30 		ldr	r3, [r3, #220]
 2086 003a DB6A     		ldr	r3, [r3, #44]
 2087 003c 03F60403 		addw	r3, r3, #2052
 446:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 2088              		.loc 1 446 20
 2089 0040 1B68     		ldr	r3, [r3]
 446:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 2090              		.loc 1 446 3
 2091 0042 7A68     		ldr	r2, [r7, #4]
 2092 0044 D2F8DC20 		ldr	r2, [r2, #220]
 2093 0048 D26A     		ldr	r2, [r2, #44]
 2094 004a 02F60402 		addw	r2, r2, #2052
 446:../libopencm3/lib/usb/usb_dwc_common.c **** 	}
 2095              		.loc 1 446 20
 2096 004e 23F00203 		bic	r3, r3, #2
 2097 0052 1360     		str	r3, [r2]
 2098              	.L80:
 2099              		.loc 1 448 1
 2100 0054 00BF     		nop
 2101 0056 0C37     		adds	r7, r7, #12
 2102              		.cfi_def_cfa_offset 4
 2103 0058 BD46     		mov	sp, r7
 2104              		.cfi_def_cfa_register 13
 2105              		@ sp needed
 2106 005a 80BC     		pop	{r7}
 2107              		.cfi_restore 7
 2108              		.cfi_def_cfa_offset 0
 2109 005c 7047     		bx	lr
 2110              		.cfi_endproc
 2111              	.LFE10:
 2113              		.text
 2114              	.Letext0:
 2115              		.file 2 "/home/toolchain/gcc-arm-none-eabi-8-2019-q3-update/lib/gcc/arm-none-eabi/8.3.1/include/st
 2116              		.file 3 "/home/toolchain/gcc-arm-none-eabi-8-2019-q3-update/arm-none-eabi/include/machine/_default
 2117              		.file 4 "/home/toolchain/gcc-arm-none-eabi-8-2019-q3-update/arm-none-eabi/include/sys/_types.h"
 2118              		.file 5 "/home/toolchain/gcc-arm-none-eabi-8-2019-q3-update/arm-none-eabi/include/sys/reent.h"
 2119              		.file 6 "/home/toolchain/gcc-arm-none-eabi-8-2019-q3-update/arm-none-eabi/include/sys/lock.h"
 2120              		.file 7 "/home/toolchain/gcc-arm-none-eabi-8-2019-q3-update/arm-none-eabi/include/sys/_stdint.h"
 2121              		.file 8 "/home/src/eclipse-workspace/stm32f1_dfu/libopencm3/include/libopencm3/usb/usbstd.h"
 2122              		.file 9 "/home/src/eclipse-workspace/stm32f1_dfu/libopencm3/include/libopencm3/usb/usbd.h"
 2123              		.file 10 "../libopencm3/lib/usb/usb_private.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb_dwc_common.c
     /tmp/ccMDy3mn.s:16     .text.dwc_set_address:0000000000000000 $t
     /tmp/ccMDy3mn.s:24     .text.dwc_set_address:0000000000000000 dwc_set_address
     /tmp/ccMDy3mn.s:78     .text.dwc_ep_setup:0000000000000000 $t
     /tmp/ccMDy3mn.s:85     .text.dwc_ep_setup:0000000000000000 dwc_ep_setup
     /tmp/ccMDy3mn.s:488    .text.dwc_endpoints_reset:0000000000000000 $t
     /tmp/ccMDy3mn.s:495    .text.dwc_endpoints_reset:0000000000000000 dwc_endpoints_reset
     /tmp/ccMDy3mn.s:631    .text.dwc_ep_stall_set:0000000000000000 $t
     /tmp/ccMDy3mn.s:638    .text.dwc_ep_stall_set:0000000000000000 dwc_ep_stall_set
     /tmp/ccMDy3mn.s:902    .text.dwc_ep_stall_get:0000000000000000 $t
     /tmp/ccMDy3mn.s:909    .text.dwc_ep_stall_get:0000000000000000 dwc_ep_stall_get
     /tmp/ccMDy3mn.s:986    .text.dwc_ep_nak_set:0000000000000000 $t
     /tmp/ccMDy3mn.s:993    .text.dwc_ep_nak_set:0000000000000000 dwc_ep_nak_set
     /tmp/ccMDy3mn.s:1097   .text.dwc_ep_write_packet:0000000000000000 $t
     /tmp/ccMDy3mn.s:1104   .text.dwc_ep_write_packet:0000000000000000 dwc_ep_write_packet
     /tmp/ccMDy3mn.s:1239   .text.dwc_ep_read_packet:0000000000000000 $t
     /tmp/ccMDy3mn.s:1246   .text.dwc_ep_read_packet:0000000000000000 dwc_ep_read_packet
     /tmp/ccMDy3mn.s:1368   .text.dwc_flush_txfifo:0000000000000000 $t
     /tmp/ccMDy3mn.s:1374   .text.dwc_flush_txfifo:0000000000000000 dwc_flush_txfifo
     /tmp/ccMDy3mn.s:1513   .text.dwc_poll:0000000000000000 $t
     /tmp/ccMDy3mn.s:1520   .text.dwc_poll:0000000000000000 dwc_poll
     /tmp/ccMDy3mn.s:2037   .text.dwc_disconnect:0000000000000000 $t
     /tmp/ccMDy3mn.s:2044   .text.dwc_disconnect:0000000000000000 dwc_disconnect
                           .group:0000000000000000 wm4.0.5634517379934ab330ad1f3d5297a544
                           .group:0000000000000000 wm4._newlib_version.h.4.9ba035841e762c3308916a0ce96032e7
                           .group:0000000000000000 wm4.newlib.h.18.5e5ca3429233af402d406a202f1fc1ac
                           .group:0000000000000000 wm4.ieeefp.h.77.5499ed899a78229fbaf6d102924f4714
                           .group:0000000000000000 wm4.features.h.22.fad1cec3bc7ff06488171438dbdcfd02
                           .group:0000000000000000 wm4.config.h.224.c701144a7b0518c6ee9b9b5465b79f81
                           .group:0000000000000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:0000000000000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:0000000000000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:0000000000000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:0000000000000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:0000000000000000 wm4._types.h.127.34941de1b2539d59d5cac00e0dd27a45
                           .group:0000000000000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:0000000000000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:0000000000000000 wm4.reent.h.77.dcd6129ff07fe81bd5636db29abe53b2
                           .group:0000000000000000 wm4.cdefs.h.49.6260d97adb8d27534cbdc0f868b8ea87
                           .group:0000000000000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:0000000000000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:0000000000000000 wm4.common.h.21.c9066c2f6b12c71b40226ea6107829a4
                           .group:0000000000000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:0000000000000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:0000000000000000 wm4.common.h.67.5c568a1f62c8e726909b04e29f9e1fc0
                           .group:0000000000000000 wm4.usbstd.h.44.4afe4d1bc74038b0efb850274c9ca72f
                           .group:0000000000000000 wm4.usbd.h.59.36297d267a452a295a2169d9133104f5
                           .group:0000000000000000 wm4.otg_common.h.27.7374abeb4d4afce8cbd042d2e3e521aa
                           .group:0000000000000000 wm4.usb_private.h.39.0319c55b21f25116dad040a5212d0c5d

UNDEFINED SYMBOLS
memcpy
_usbd_reset
